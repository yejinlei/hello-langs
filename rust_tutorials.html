<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语法教程 - Hello 编程语言</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Noto Sans SC', sans-serif;
        }
        .code-font {
            font-family: 'JetBrains Mono', monospace;
        }
        .gradient-text {
            background: linear-gradient(135deg, #60A5FA 0%, #A78BFA 50%, #F87171 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .syntax-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.9));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        .language-tab {
            transition: all 0.3s ease;
        }
        .language-tab.active {
            background: linear-gradient(135deg, #3B82F6, #8B5CF6);
            color: white;
        }
        .code-block {
            background: rgba(2, 6, 23, 0.9);
            border-left: 4px solid #3B82F6;
        }
        .highlight {
            background: rgba(59, 130, 246, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
        }
        .language-content.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-slate-900/80 backdrop-blur-md border-b border-slate-700 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="text-2xl font-bold gradient-text">Hello 编程语言</div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-slate-300 hover:text-blue-400 transition-colors">首页</a>
                    <a href="tutorials.html" class="text-blue-400 font-medium">语法教程</a>
                    <!-- <a href="lab.html" class="text-slate-300 hover:text-blue-400 transition-colors">代码实验室</a> -->
                    <!-- <a href="resources.html" class="text-slate-300 hover:text-blue-400 transition-colors">资源中心</a> -->
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-300 hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h1 class="text-5xl font-bold mb-6 gradient-text">编程语法</h1>
                <p class="text-xl text-slate-300 max-w-3xl mx-auto">
                    深入探索13种主流编程语言的完整语法体系，从基础到高级，一站式学习平台
                </p>
            </div>
            
            <!-- Language Selector -->
            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button class="language-tab active px-4 py-2 rounded-lg text-sm font-medium" data-lang="python">Python</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="c">C</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="cpp">C++</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="java">Java</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="csharp">C#</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="go">Go</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="swift">Swift</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="javascript">JavaScript</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="typescript">TypeScript</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="dart">Dart</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="rust">Rust</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="kotlin">Kotlin</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="ruby">Ruby</button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- 1. 变量声明 -->
        <div class="topic-section" id="topic-1">
            <h3 class="text-xl font-semibold mb-4"><span class="gradient-text">1. 变量声明</span></h3>
            <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 动态类型语言，变量无需声明类型</h4>
                        <p class="text-slate-300 mb-4">特点：简洁易读，支持多种数据类型，动态类型绑定，内置丰富数据结构。注意事项：变量命名区分大小写，使用下划线命名法。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span><br>
                                <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-300">is_student</span> = <span class="text-purple-300">True</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 静态类型语言，变量声明时需要指定类型</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，变量声明必须指定类型，内存手动管理，支持多种基本类型。注意事项：注意整数溢出问题，char类型可用于存储整数，浮点数默认为double类型。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本类型变量声明（C99）</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">name</span>[] = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-purple-400">float</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75f</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">is_student</span> = <span class="text-yellow-300">1</span>;<br>
                                <br>
                                <span class="text-blue-400">// 使用printf输出（C99支持可变参数宏）</span><br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"整数: %d, 字符串: %s\n"</span>, <span class="text-blue-300">x</span>, <span class="text-blue-300">name</span>);
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 静态类型语言，需要显式声明变量类型</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，高性能，支持多种数据类型，支持指针和引用。注意事项：变量必须先声明后使用，类型转换需要显式进行。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">std::string</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Java -->
                    <div class="language-content hidden" data-lang="java">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Java - 静态类型语言，严格的类型检查</h4>
                        <p class="text-slate-300 mb-4">特点：面向对象，强类型检查，跨平台，垃圾回收机制。注意事项：变量必须先声明后使用，所有变量都是对象的引用。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">String</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">boolean</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- C# -->
                    <div class="language-content hidden" data-lang="csharp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C# - 静态类型语言，现代的面向对象语言</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，内存自动管理，支持属性、事件、委托等高级特性，LINQ支持。注意事项：变量声明必须指定类型，可以使用var进行类型推断（局部变量）。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">string</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;<br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">list</span> = <span class="text-blue-400">new</span> <span class="text-blue-400">List</span>&lt;<span class="text-blue-400">int</span>&gt;() { <span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span> };
                            </div>
                        </div>
                    </div>
                    
                    <!-- Go -->
                    <div class="language-content hidden" data-lang="go">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Go - 静态类型语言，简洁高效</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，编译型语言，垃圾回收，并发支持，内置基本类型和复合类型。注意事项：变量声明使用var或:=，:=只能在函数内使用，变量未使用会编译错误。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span> <span class="text-blue-400">int</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span> <span class="text-blue-400">string</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">age</span> <span class="text-blue-400">int</span> = <span class="text-yellow-300">25</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">height</span> <span class="text-blue-400">float64</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">isStudent</span> <span class="text-blue-400">bool</span> = <span class="text-purple-300">true</span><br>
                                <span class="text-blue-400">name</span> := <span class="text-green-300">"李四"</span>  <span class="text-slate-500">// 简短声明
                            </div>
                        </div>
                    </div>
                    
                    <!-- Swift -->
                    <div class="language-content hidden" data-lang="swift">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Swift - 安全的现代编程语言</h4>
                        <p class="text-slate-300 mb-4">特点：类型推断，安全性高，内存自动管理，支持可选类型，现代语法。注意事项：使用var声明变量，let声明常量，类型推断减少冗余。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span>: <span class="text-blue-400">Int</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span>: <span class="text-blue-400">String</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>  <span class="text-slate-500">// 类型推断</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">height</span>: <span class="text-blue-400">Double</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">isStudent</span>: <span class="text-blue-400">Bool</span> = <span class="text-purple-300">true</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- JavaScript -->
                    <div class="language-content hidden" data-lang="javascript">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">JavaScript - 动态类型语言，Web开发核心</h4>
                        <p class="text-slate-300 mb-4">特点：动态类型，函数式编程，对象原型链，事件驱动，浏览器和Node.js环境。注意事项：变量声明使用let/const，var有作用域问题，typeof可检查类型。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">let</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- TypeScript -->
                    <div class="language-content hidden" data-lang="typescript">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">TypeScript - JavaScript的超集，支持静态类型</h4>
                        <p class="text-slate-300 mb-4">特点：静态类型检查，编译为JavaScript，类和支持面向对象，接口和泛型。注意事项：变量声明时可指定类型，类型推断减少冗余，编译检查类型错误。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">let</span> <span class="text-blue-300">x</span>: <span class="text-blue-400">number</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">name</span>: <span class="text-blue-400">string</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">age</span>: <span class="text-blue-400">number</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">height</span>: <span class="text-blue-400">number</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">is_student</span>: <span class="text-blue-400">boolean</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dart -->
                    <div class="language-content hidden" data-lang="dart">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Dart - 客户端优化的语言</h4>
                        <p class="text-slate-300 mb-4">特点：类型可选，面向对象，Flutter开发语言，AOT和JIT编译。注意事项：变量声明使用var、final或const，final once赋值，const编译时常量。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span> = <span class="text-green-300">'张三'</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">isStudent</span> = <span class="text-purple-300">true</span>;<br>
                                <span class="text-blue-400">final</span> <span class="text-blue-300">PI</span> = <span class="text-yellow-300">3.14159</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Rust -->
                    <div class="language-content hidden" data-lang="rust">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Rust - 系统级安全编程语言</h4>
                        <p class="text-slate-300 mb-4">特点：内存安全，无垃圾回收，所有权系统，强类型检查，并发安全。注意事项：变量绑定使用let，可变变量需要mut，类型通常可推断，变量必须初始化。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
        </div>
>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语法教程 - Hello 编程语言</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Noto Sans SC', sans-serif;
        }
        .code-font {
            font-family: 'JetBrains Mono', monospace;
        }
        .gradient-text {
            background: linear-gradient(135deg, #60A5FA 0%, #A78BFA 50%, #F87171 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .syntax-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.9));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        .language-tab {
            transition: all 0.3s ease;
        }
        .language-tab.active {
            background: linear-gradient(135deg, #3B82F6, #8B5CF6);
            color: white;
        }
        .code-block {
            background: rgba(2, 6, 23, 0.9);
            border-left: 4px solid #3B82F6;
        }
        .highlight {
            background: rgba(59, 130, 246, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
        }
        .language-content.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-slate-900/80 backdrop-blur-md border-b border-slate-700 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <div class="text-2xl font-bold gradient-text">Hello 编程语言</div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-slate-300 hover:text-blue-400 transition-colors">首页</a>
                    <a href="tutorials.html" class="text-blue-400 font-medium">语法教程</a>
                    <!-- <a href="lab.html" class="text-slate-300 hover:text-blue-400 transition-colors">代码实验室</a> -->
                    <!-- <a href="resources.html" class="text-slate-300 hover:text-blue-400 transition-colors">资源中心</a> -->
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-300 hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="pt-24 pb-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h1 class="text-5xl font-bold mb-6 gradient-text">编程语法</h1>
                <p class="text-xl text-slate-300 max-w-3xl mx-auto">
                    深入探索13种主流编程语言的完整语法体系，从基础到高级，一站式学习平台
                </p>
            </div>
            
            <!-- Language Selector -->
            <div class="flex flex-wrap justify-center gap-3 mb-8">
                <button class="language-tab active px-4 py-2 rounded-lg text-sm font-medium" data-lang="python">Python</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="c">C</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="cpp">C++</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="java">Java</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="csharp">C#</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="go">Go</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="swift">Swift</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="javascript">JavaScript</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="typescript">TypeScript</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="dart">Dart</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="rust">Rust</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="kotlin">Kotlin</button>
                <button class="language-tab px-4 py-2 rounded-lg text-sm font-medium bg-slate-700 text-slate-300" data-lang="ruby">Ruby</button>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- 1. 变量声明 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">1. 变量声明</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 动态类型语言，变量无需声明类型</h4>
                        <p class="text-slate-300 mb-4">特点：简洁易读，支持多种数据类型，动态类型绑定，内置丰富数据结构。注意事项：变量命名区分大小写，使用下划线命名法。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span><br>
                                <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-300">is_student</span> = <span class="text-purple-300">True</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 静态类型语言，变量声明时需要指定类型</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，变量声明必须指定类型，内存手动管理，支持多种基本类型。注意事项：注意整数溢出问题，char类型可用于存储整数，浮点数默认为double类型。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本类型变量声明（C99）</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">name</span>[] = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-purple-400">float</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75f</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">is_student</span> = <span class="text-yellow-300">1</span>;<br>
                                <br>
                                <span class="text-blue-400">// 使用printf输出（C99支持可变参数宏）</span><br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"整数: %d, 字符串: %s\n"</span>, <span class="text-blue-300">x</span>, <span class="text-blue-300">name</span>);
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 静态类型语言，需要显式声明变量类型</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，高性能，支持多种数据类型，支持指针和引用。注意事项：变量必须先声明后使用，类型转换需要显式进行。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">std::string</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Java -->
                    <div class="language-content hidden" data-lang="java">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Java - 静态类型语言，严格的类型检查</h4>
                        <p class="text-slate-300 mb-4">特点：面向对象，强类型检查，跨平台，垃圾回收机制。注意事项：变量必须先声明后使用，所有变量都是对象的引用。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">String</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">boolean</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- C# -->
                    <div class="language-content hidden" data-lang="csharp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C# - 静态类型语言，现代的面向对象语言</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，内存自动管理，支持属性、事件、委托等高级特性，LINQ支持。注意事项：变量声明必须指定类型，可以使用var进行类型推断（局部变量）。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">string</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;<br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">list</span> = <span class="text-blue-400">new</span> <span class="text-blue-400">List</span>&lt;<span class="text-blue-400">int</span>&gt;() { <span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span> };
                            </div>
                        </div>
                    </div>
                    
                    <!-- Go -->
                    <div class="language-content hidden" data-lang="go">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Go - 静态类型语言，简洁高效</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，编译型语言，垃圾回收，并发支持，内置基本类型和复合类型。注意事项：变量声明使用var或:=，:=只能在函数内使用，变量未使用会编译错误。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span> <span class="text-blue-400">int</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span> <span class="text-blue-400">string</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">age</span> <span class="text-blue-400">int</span> = <span class="text-yellow-300">25</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">height</span> <span class="text-blue-400">float64</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">isStudent</span> <span class="text-blue-400">bool</span> = <span class="text-purple-300">true</span><br>
                                <span class="text-blue-400">name</span> := <span class="text-green-300">"李四"</span>  <span class="text-slate-500">// 简短声明
                            </div>
                        </div>
                    </div>
                    
                    <!-- Swift -->
                    <div class="language-content hidden" data-lang="swift">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Swift - 安全的现代编程语言</h4>
                        <p class="text-slate-300 mb-4">特点：类型推断，安全性高，内存自动管理，支持可选类型，现代语法。注意事项：使用var声明变量，let声明常量，类型推断减少冗余。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span>: <span class="text-blue-400">Int</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span>: <span class="text-blue-400">String</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>  <span class="text-slate-500">// 类型推断</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">height</span>: <span class="text-blue-400">Double</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">isStudent</span>: <span class="text-blue-400">Bool</span> = <span class="text-purple-300">true</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- JavaScript -->
                    <div class="language-content hidden" data-lang="javascript">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">JavaScript - 动态类型语言，Web开发核心</h4>
                        <p class="text-slate-300 mb-4">特点：动态类型，函数式编程，对象原型链，事件驱动，浏览器和Node.js环境。注意事项：变量声明使用let/const，var有作用域问题，typeof可检查类型。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">let</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-purple-400">let</span> <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- TypeScript -->
                    <div class="language-content hidden" data-lang="typescript">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">TypeScript - JavaScript的超集，支持静态类型</h4>
                        <p class="text-slate-300 mb-4">特点：静态类型检查，编译为JavaScript，类和支持面向对象，接口和泛型。注意事项：变量声明时可指定类型，类型推断减少冗余，编译检查类型错误。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">let</span> <span class="text-blue-300">x</span>: <span class="text-blue-400">number</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">name</span>: <span class="text-blue-400">string</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">age</span>: <span class="text-blue-400">number</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">height</span>: <span class="text-blue-400">number</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">is_student</span>: <span class="text-blue-400">boolean</span> = <span class="text-purple-300">true</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dart -->
                    <div class="language-content hidden" data-lang="dart">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Dart - 客户端优化的语言</h4>
                        <p class="text-slate-300 mb-4">特点：类型可选，面向对象，Flutter开发语言，AOT和JIT编译。注意事项：变量声明使用var、final或const，final once赋值，const编译时常量。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span> = <span class="text-green-300">'张三'</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">isStudent</span> = <span class="text-purple-300">true</span>;<br>
                                <span class="text-blue-400">final</span> <span class="text-blue-300">PI</span> = <span class="text-yellow-300">3.14159</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Rust -->
                    <div class="language-content hidden" data-lang="rust">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Rust - 系统级安全编程语言</h4>
                        <p class="text-slate-300 mb-4">特点：内存安全，无垃圾回收，所有权系统，强类型检查，并发安全。注意事项：变量绑定使用let，可变变量需要mut，类型通常可推断，变量必须初始化。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">let</span> <span class="text-blue-300">x</span>: <span class="text-blue-400">i32</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">name</span>: <span class="text-blue-400">&amp;str</span> = <span class="text-green-300">"张三"</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>;  <span class="text-slate-500">// 类型推断</span><br>
                                <span class="text-blue-400">let</span> <span class="text-blue-300">height</span>: <span class="text-blue-400">f64</span> = <span class="text-yellow-300">1.75</span>;<br>
                                <span class="text-blue-400">let</span> <span class="text-purple-400">mut</span> <span class="text-blue-300">counter</span> = <span class="text-yellow-300">0</span>;  <span class="text-slate-500">// 可变绑定</span><br>
                                <span class="text-blue-300">counter</span> += <span class="text-yellow-300">1</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kotlin -->
                    <div class="language-content hidden" data-lang="kotlin">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Kotlin - 现代Android开发语言</h4>
                        <p class="text-slate-300 mb-4">特点：空安全，类型推断，函数式编程，与Java互操作，协程支持。注意事项：变量声明使用val（不可变）和var（可变），类型推断减少冗余，可空类型需要?。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">var</span> <span class="text-blue-300">x</span>: <span class="text-blue-400">Int</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">name</span>: <span class="text-blue-400">String</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-400">val</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span>  <span class="text-slate-500">// val不可变</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">height</span>: <span class="text-blue-400">Double</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-400">var</span> <span class="text-blue-300">isStudent</span>: <span class="text-blue-400">Boolean</span> = <span class="text-purple-300">true</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ruby -->
                    <div class="language-content hidden" data-lang="ruby">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Ruby - 优雅的面向对象语言</h4>
                        <p class="text-slate-300 mb-4">特点：动态类型，纯粹面向对象，块和迭代器，元编程能力，Rails框架。注意事项：变量以小写字母或下划线开头，常量以大写字母开头，符号: symbol是不可变字符串。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本赋值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">x</span> = <span class="text-yellow-300">10</span><br>
                                <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-300">age</span> = <span class="text-yellow-300">25</span><br>
                                <span class="text-blue-300">height</span> = <span class="text-yellow-300">1.75</span><br>
                                <span class="text-blue-300">is_student</span> = <span class="text-purple-300">true</span><br>
                                <span class="text-blue-300">:status</span>  <span class="text-slate-500"># 符号</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 高级装饰器模式</h4>
                        <p class="text-slate-300 mb-4">特点：使用函数指针和结构体模拟装饰器，支持函数包装和增强，支持多层装饰，支持装饰器参数。注意事项：使用struct封装原始函数，使用函数指针进行调用，注意内存管理和错误处理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用结构体和函数指针实现装饰器模式</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 基础函数类型</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">int</span> <span class="text-blue-300">(*</span><span class="text-blue-300">func_t</span><span class="text-blue-300">)</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>);<br>
                                <br>
                                <span class="text-blue-400">// 装饰器结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">func_t</span> <span class="text-blue-300">original_func</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-50"></span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">call_count</span>;<br>
                                } <span class="text-blue-300">decorated_func_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 原始函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">add</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">multiply</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> * <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 创建装饰器</span><br>
                                <span class="text-blue-300">decorated_func_t</span>* <span class="text-blue-300">create_decorator</span>(<span class="text-blue-300">func_t</span> <span class="text-blue-300">func</span>, <span class="text-purple-400">const</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">name</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated_func_t</span>* <span class="text-blue-300">decorated</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">decorated_func_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">decorated</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated</span>-><span class="text-blue-300">original_func</span> = <span class="text-blue-300">func</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">strncpy</span>(<span class="text-blue-300">decorated</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>, <span class="text-yellow-49"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated</span>-><span class="text-blue-300">call_count</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">decorated</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 装饰器调用函数（添加日志和计数）</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">decorated_call</span>(<span class="text-blue-300">decorated_func_t</span>* <span class="text-blue-300">decorated</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated</span>-><span class="text-blue-300">call_count</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"调用函数 %s (第%d次)\n"</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">call_count</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">decorated</span>-><span class="text-blue-300">original_func</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"函数 %s 返回结果: %d\n"</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">result</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 带验证的装饰器</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated_func_t</span> <span class="text-blue-300">base</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">min_value</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">max_value</span>;<br>
                                } <span class="text-blue-300">validated_decorator_t</span>;<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">validated_call</span>(<span class="text-blue-300">validated_decorator_t</span>* <span class="text-blue-300">decorated</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">a</span> < <span class="text-blue-300">decorated</span>-><span class="text-blue-300">min_value</span> || <span class="text-blue-300">a</span> > <span class="text-blue-300">decorated</span>-><span class="text-blue-300">max_value</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"错误: 参数 %d 超出范围 [%d, %d]\n"</span>, <span class="text-blue-300">a</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">min_value</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">max_value</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">b</span> < <span class="text-blue-300">decorated</span>-><span class="text-blue-300">min_value</span> || <span class="text-blue-300">b</span> > <span class="text-blue-300">decorated</span>-><span class="text-blue-300">max_value</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"错误: 参数 %d 超出范围 [%d, %d]\n"</span>, <span class="text-blue-300">b</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">min_value</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">max_value</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">decorated_call</span>(&(<span class="text-blue-300">decorated</span>-><span class="text-blue-300">base</span>), <span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>);<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建装饰器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated_func_t</span>* <span class="text-blue-300">add_decorated</span> = <span class="text-blue-300">create_decorator</span>(<span class="text-blue-300">add</span>, <span class="text-green-300">"add"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated_func_t</span>* <span class="text-blue-300">multiply_decorated</span> = <span class="text-blue-300">create_decorator</span>(<span class="text-blue-300">multiply</span>, <span class="text-green-300">"multiply"</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用装饰器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated_call</span>(<span class="text-blue-300">add_decorated</span>, <span class="text-yellow-5"></span>, <span class="text-yellow-3"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated_call</span>(<span class="text-blue-300">multiply_decorated</span>, <span class="text-yellow-4"></span>, <span class="text-yellow-2"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建验证装饰器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validated_decorator_t</span> <span class="text-blue-300">validated_add</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validated_add</span>.<span class="text-blue-300">base</span> = *<span class="text-blue-300">add_decorated</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validated_add</span>.<span class="text-blue-300">min_value</span> = <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validated_add</span>.<span class="text-blue-300">max_value</span> = <span class="text-yellow-100"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 测试验证装饰器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validated_call</span>(&<span class="text-blue-300">validated_add</span>, <span class="text-yellow-5"></span>, <span class="text-yellow-3"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validated_call</span>(&<span class="text-blue-300">validated_add</span>, <span class="text-yellow-150"></span>, <span class="text-yellow-3"></span>); <span class="text-slate-500">// 这会触发验证错误</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 清理</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">add_decorated</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">multiply_decorated</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 复杂装饰器模式</h4>
                        <p class="text-slate-300 mb-4">特点：支持装饰器工厂，支持多层装饰，支持带参数的装饰器，支持类装饰器。注意事项：使用函数指针数组实现装饰器链，使用结构体存储装饰器状态，注意内存管理和类型安全。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 高级装饰器模式实现</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 装饰器工厂类型</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">void</span>* <span class="text-blue-300">(*</span><span class="text-blue-300">decorator_factory_t</span><span class="text-blue-300">)</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">config</span>);<br>
                                <br>
                                <span class="text-blue-400">// 装饰器接口</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">(*before_call</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">args</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">(*after_call</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> <span class="text-blue-300">(*destroy</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>);<br>
                                } <span class="text-blue-300">decorator_interface_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 计时装饰器</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_interface_t</span> <span class="text-blue-300">interface</span>;<br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">elapsed_time</span>;<br>
                                } <span class="text-blue-300">timing_decorator_t</span>;<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">timing_before_call</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">args</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timing_decorator_t</span>* <span class="text-blue-300">decorator</span> = (<span class="text-blue-300">timing_decorator_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[TIMING] 开始计时...\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">timing_after_call</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timing_decorator_t</span>* <span class="text-blue-300">decorator</span> = (<span class="text-blue-300">timing_decorator_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[TIMING] 计时完成，返回值: %d\n"</span>, *(<span class="text-purple-400">int</span>*) <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">timing_destroy</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">self</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-300">timing_decorator_t</span>* <span class="text-blue-300">create_timing_decorator</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timing_decorator_t</span>* <span class="text-blue-300">decorator</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">timing_decorator_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">decorator</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">before_call</span> = <span class="text-blue-300">timing_before_call</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">after_call</span> = <span class="text-blue-300">timing_after_call</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span> = <span class="text-blue-300">timing_destroy</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">decorator</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 重试装饰器</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_interface_t</span> <span class="text-blue-300">interface</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">max_retries</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">current_retry</span>;<br>
                                } <span class="text-blue-300">retry_decorator_t</span>;<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">retry_before_call</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">args</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">retry_decorator_t</span>* <span class="text-blue-300">decorator</span> = (<span class="text-blue-300">retry_decorator_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">current_retry</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[RETRY] 第%d次尝试 (最大%d次)\n"</span>, <span class="text-blue-300">decorator</span>-><span class="text-blue-300">current_retry</span>, <span class="text-blue-300">decorator</span>-><span class="text-blue-300">max_retries</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">retry_destroy</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">self</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-300">retry_decorator_t</span>* <span class="text-blue-300">create_retry_decorator</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">max_retries</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">retry_decorator_t</span>* <span class="text-blue-300">decorator</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">retry_decorator_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">decorator</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">before_call</span> = <span class="text-blue-300">retry_before_call</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">after_call</span> = <span class="text-purple-400">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span> = <span class="text-blue-300">retry_destroy</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">max_retries</span> = <span class="text-blue-300">max_retries</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator</span>-><span class="text-blue-300">current_retry</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">decorator</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 装饰器链管理</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">MAX_DECORATORS</span> <span class="text-yellow-10"></span><br>
                                <br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_interface_t</span>* <span class="text-blue-300">decorators</span>[<span class="text-blue-300">MAX_DECORATORS</span>];<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">count</span>;<br>
                                } <span class="text-blue-300">decorator_chain_t</span>;<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">decorator_chain_add</span>(<span class="text-blue-300">decorator_chain_t</span>* <span class="text-blue-300">chain</span>, <span class="text-blue-300">decorator_interface_t</span>* <span class="text-blue-300">decorator</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">chain</span>-><span class="text-blue-300">count</span> < <span class="text-blue-300">MAX_DECORATORS</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">chain</span>-><span class="text-blue-300">count</span>++] = <span class="text-blue-300">decorator</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">decorator_chain_execute</span>(<span class="text-blue-300">decorator_chain_t</span>* <span class="text-blue-300">chain</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 执行前置钩子</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-blue-300">chain</span>-><span class="text-blue-300">count</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]-><span class="text-blue-300">before_call</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]-><span class="text-blue-300">before_call</span>(<span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>], <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 执行实际函数</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"执行核心逻辑: %d + %d = %d\n"</span>, <span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>, <span class="text-blue-300">result</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 执行后置钩子</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-blue-300">chain</span>-><span class="text-blue-300">count</span> - <span class="text-yellow-1"></span>; <span class="text-blue-300">i</span> >= <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span>--) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]-><span class="text-blue-300">after_call</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]-><span class="text-blue-300">after_call</span>(<span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>], &<span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">decorator_chain_destroy</span>(<span class="text-blue-300">decorator_chain_t</span>* <span class="text-blue-300">chain</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-blue-300">chain</span>-><span class="text-blue-300">count</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]-><span class="text-blue-300">destroy</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]-><span class="text-blue-300">destroy</span>(<span class="text-blue-300">chain</span>-><span class="text-blue-300">decorators</span>[<span class="text-blue-300">i</span>]);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建装饰器链</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_chain_t</span> <span class="text-blue-300">chain</span> = {<span class="text-purple-400">NULL</span>};<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 添加装饰器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timing_decorator_t</span>* <span class="text-blue-300">timing</span> = <span class="text-blue-300">create_timing_decorator</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">retry_decorator_t</span>* <span class="text-blue-300">retry</span> = <span class="text-blue-300">create_retry_decorator</span>(<span class="text-yellow-3"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_chain_add</span>(&<span class="text-blue-300">chain</span>, &(<span class="text-blue-300">timing</span>-><span class="text-blue-300">interface</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_chain_add</span>(&<span class="text-blue-300">chain</span>, &(<span class="text-blue-300">retry</span>-><span class="text-blue-300">interface</span>));<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 执行装饰器链</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_chain_execute</span>(&<span class="text-blue-300">chain</span>, <span class="text-yellow-5"></span>, <span class="text-yellow-3"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 清理</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorator_chain_destroy</span>(&<span class="text-blue-300">chain</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 高级上下文管理器实现</h4>
                        <p class="text-slate-300 mb-4">特点：使用结构体和函数指针模拟上下文管理器，支持嵌套上下文管理器，支持上下文管理器链，支持带参数的上下文管理器，支持资源自动管理。注意事项：需要手动管理内存分配和释放，注意异常安全的资源清理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 高级上下文管理器实现</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;time.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 上下文管理器接口</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span>* <span class="text-blue-300">(*enter</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">(*exit</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">exc_type</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">exc_value</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">traceback</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> <span class="text-blue-300">(*destroy</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>);<br>
                                } <span class="text-blue-300">context_manager_interface_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 计时上下文管理器</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">context_manager_interface_t</span> <span class="text-blue-300">interface</span>;<br>
                                <span class="text-purple-400">clock_t</span> <span class="text-blue-300">start_time</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-50"></span>];<br>
                                } <span class="text-blue-300">timer_context_t</span>;<br>
                                <br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">timer_enter</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">timer</span> = (<span class="text-blue-300">timer_context_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">start_time</span> = <span class="text-blue-300">clock</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[TIMER] 开始计时: %s\n"</span>, <span class="text-blue-300">timer</span>-><span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">self</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">timer_exit</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">exc_type</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">exc_value</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">traceback</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">timer</span> = (<span class="text-blue-300">timer_context_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span> <span class="text-blue-300">elapsed</span> = (<span class="text-purple-400">double</span>)(<span class="text-blue-300">clock</span>() - <span class="text-blue-300">timer</span>-><span class="text-blue-300">start_time</span>) / <span class="text-blue-300">CLOCKS_PER_SEC</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[TIMER] 结束计时: %s, 用时: %.4f秒\n"</span>, <span class="text-blue-300">timer</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">elapsed</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">timer_destroy</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">self</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">create_timer_context</span>(<span class="text-purple-400">const</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">name</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">timer</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">timer_context_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">timer</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span> = <span class="text-blue-300">timer_enter</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span> = <span class="text-blue-300">timer_exit</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span> = <span class="text-blue-300">timer_destroy</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strncpy</span>(<span class="text-blue-300">timer</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>, <span class="text-yellow-49"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">name</span>[<span class="text-yellow-49"></span>] = <span class="text-green-300">'\0'</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">timer</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 文件操作上下文管理器</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">context_manager_interface_t</span> <span class="text-blue-300">interface</span>;<br>
                                <span class="text-purple-400">FILE</span>* <span class="text-blue-300">file</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">filename</span>[<span class="text-yellow-100"></span>];<br>
                                <span class="text-purple-400">const</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">mode</span>;<br>
                                } <span class="text-blue-300">file_context_t</span>;<br>
                                <br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">file_enter</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_context_t</span>* <span class="text-blue-300">file_ctx</span> = (<span class="text-blue-300">file_context_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">filename</span>, <span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">mode</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (!<span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">file</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[FILE] 无法打开文件: %s\n"</span>, <span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">filename</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[FILE] 打开文件: %s\n"</span>, <span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">filename</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">file</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">file_exit</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">exc_type</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">exc_value</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">traceback</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_context_t</span>* <span class="text-blue-300">file_ctx</span> = (<span class="text-blue-300">file_context_t</span>*) <span class="text-blue-300">self</span>;<br>
                                <span class="text-purple-400">if</span> (<span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">file</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">file</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[FILE] 关闭文件: %s\n"</span>, <span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">filename</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">file_destroy</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">self</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-300">file_context_t</span>* <span class="text-blue-300">create_file_context</span>(<span class="text-purple-400">const</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">filename</span>, <span class="text-purple-400">const</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">mode</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_context_t</span>* <span class="text-blue-300">file_ctx</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">file_context_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file_ctx</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span> = <span class="text-blue-300">file_enter</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span> = <span class="text-blue-300">file_exit</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span> = <span class="text-blue-300">file_destroy</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strncpy</span>(<span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">filename</span>, <span class="text-blue-300">filename</span>, <span class="text-yellow-99"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">filename</span>[<span class="text-yellow-99"></span>] = <span class="text-green-300">'\0'</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">mode</span> = <span class="text-blue-300">mode</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">file_ctx</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 上下文管理器使用宏</span><br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">WITH_CONTEXT</span>(<span class="text-blue-300">ctx</span>, <span class="text-blue-300">var_name</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">void</span>* <span class="text-blue-300">var_name</span> = ((<span class="text-blue-300">ctx</span>)-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span>(<span class="text-blue-300">ctx</span>)); \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">var_name</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>((<span class="text-blue-300">ctx</span>)-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span>(<span class="text-blue-300">ctx</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>), \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">var_name</span> = <span class="text-purple-400">NULL</span>, (<span class="text-blue-300">ctx</span>)-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span>(<span class="text-blue-300">ctx</span>)))<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">simulate_work</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 模拟耗时工作</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">volatile</span> <span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-10000000"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">volatile</span> <span class="text-purple-400">int</span> <span class="text-blue-300">temp</span> = <span class="text-blue-300">i</span> * <span class="text-yellow-2"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用计时上下文管理器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">timer</span> = <span class="text-blue-300">create_timer_context</span>(<span class="text-green-300">"工作计时"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 注意：这里使用了一个模拟的WITH宏，因为在C中无法完全模拟Python的with语句</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">timer</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span>(<span class="text-blue-300">timer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">simulate_work</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span>(<span class="text-blue-300">timer</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span>(<span class="text-blue-300">timer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建测试文件并使用文件上下文管理器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">system</span>(<span class="text-green-300">"echo 'Hello, Context Manager!' > test.txt"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_context_t</span>* <span class="text-blue-300">file_ctx</span> = <span class="text-blue-300">create_file_context</span>(<span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"r"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file_ctx</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span>* <span class="text-blue-300">file</span> = <span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span>(<span class="text-blue-300">file_ctx</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"[MAIN] 文件内容: "</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">buffer</span>[<span class="text-yellow-100"></span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">fgets</span>(<span class="text-blue-300">buffer</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">buffer</span>), (<span class="text-purple-400">FILE</span>*) <span class="text-blue-300">file</span>)) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"%s"</span>, <span class="text-blue-300">buffer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span>(<span class="text-blue-300">file_ctx</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_ctx</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span>(<span class="text-blue-300">file_ctx</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 清理测试文件</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">system</span>(<span class="text-green-300">"rm -f test.txt"</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 嵌套上下文管理器示例</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">outer_timer</span> = <span class="text-blue-300">create_timer_context</span>(<span class="text-green-300">"外层计时"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">outer_timer</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">outer_timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span>(<span class="text-blue-300">outer_timer</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">timer_context_t</span>* <span class="text-blue-300">inner_timer</span> = <span class="text-blue-300">create_timer_context</span>(<span class="text-green-300">"内层计时"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">inner_timer</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">inner_timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">enter</span>(<span class="text-blue-300">inner_timer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">simulate_work</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">inner_timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span>(<span class="text-blue-300">inner_timer</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">inner_timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span>(<span class="text-blue-300">inner_timer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">outer_timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">exit</span>(<span class="text-blue-300">outer_timer</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">outer_timer</span>-><span class="text-blue-300">interface</span>.<span class="text-blue-300">destroy</span>(<span class="text-blue-300">outer_timer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"\n[C] 所有上下文管理器执行完成!\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 高级异步编程技术（POSIX线程和任务队列）</h4>
                        <p class="text-slate-300 mb-4">特点：使用高级任务队列管理异步操作，支持优先级调度，支持并发控制，支持异步任务链，支持错误处理和重试机制。注意事项：需要链接pthread库，使用信号量进行线程同步，注意内存管理和资源清理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 高级异步编程：任务队列和优先级调度</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;pthread.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;semaphore.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;signal.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 任务优先级枚举</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">enum</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRIORITY_LOW</span> = <span class="text-yellow-1"></span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRIORITY_NORMAL</span> = <span class="text-yellow-5"></span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRIORITY_HIGH</span> = <span class="text-yellow-10"></span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRIORITY_CRITICAL</span> = <span class="text-yellow-15"></span><br>
                                } <span class="text-blue-300">task_priority_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 高级任务结果结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">task_name</span>[<span class="text-yellow-50"></span>];<br>
                                <span class="text-blue-400">pthread_t</span> <span class="text-blue-300">thread_id</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">status_code</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">error_msg</span>[<span class="text-yellow-200"></span>];<br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">result_data</span>;<br>
                                <span class="text-purple-400">size_t</span> <span class="text-blue-300">result_size</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">retry_count</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">max_retries</span>;<br>
                                } <span class="text-blue-300">advanced_task_result_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 高级异步任务结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (<span class="text-blue-300">*execute</span>)(<span class="text-purple-400">void</span>*, <span class="text-purple-400">void</span>*, <span class="text-purple-400">int</span>*);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (<span class="text-blue-300">*cleanup</span>)(<span class="text-purple-400">void</span>*);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>;<br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>;<br>
                                <span class="text-blue-300">task_priority_t</span> <span class="text-blue-300">priority</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">timeout_seconds</span>;<br>
                                <span class="text-blue-300">advanced_task_result_t</span>* <span class="text-blue-300">task_result</span>;<br>
                                } <span class="text-blue-300">advanced_async_task_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 优先级任务队列结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">advanced_async_task_t</span>* <span class="text-blue-300">tasks</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">capacity</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">size</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">head</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">tail</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">active_tasks</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">max_concurrent</span>;<br>
                                <span class="text-blue-400">pthread_mutex_t</span> <span class="text-blue-300">mutex</span>;<br>
                                <span class="text-blue-300">sem_t</span> <span class="text-blue-300">semaphore</span>;<br>
                                <span class="text-blue-400">pthread_t</span> <span class="text-blue-300">monitor_thread</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">running</span>;<br>
                                } <span class="text-blue-300">priority_task_queue_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 创建优先级任务队列</span><br>
                                <span class="text-blue-300">priority_task_queue_t</span>* <span class="text-blue-300">priority_queue_create</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">capacity</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">max_concurrent</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">priority_task_queue_t</span>* <span class="text-blue-300">queue</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">priority_task_queue_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (!<span class="text-blue-300">queue</span>) <span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">advanced_async_task_t</span>) * <span class="text-blue-300">capacity</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (!<span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">queue</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span> = <span class="text-blue-300">capacity</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">active_tasks</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">max_concurrent</span> = <span class="text-blue-300">max_concurrent</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_init</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-blue-300">sem_init</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>, <span class="text-yellow-0"></span>, <span class="text-yellow-0"></span>);<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">running</span> = <span class="text-yellow-1"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">queue</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 添加任务到优先级队列</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">priority_queue_add</span>(<span class="text-blue-300">priority_task_queue_t</span>* <span class="text-blue-300">queue</span>, <span class="text-blue-300">advanced_async_task_t</span> <span class="text-blue-300">task</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_lock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span> >= <span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 找到正确的插入位置（按优先级排序）</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">insert_pos</span> = <span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span>;<br>
                                <span class="text-purple-400">while</span> (<span class="text-blue-300">insert_pos</span> > <span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> && <span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">insert_pos</span> - <span class="text-yellow-1"></span>].<span class="text-blue-300">priority</span> > <span class="text-blue-300">task</span>.<span class="text-blue-300">priority</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">insert_pos</span>] = <span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">insert_pos</span> - <span class="text-yellow-1"></span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">insert_pos</span>--;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">insert_pos</span>] = <span class="text-blue-300">task</span>;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span> = (<span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span> + <span class="text-yellow-1"></span>) % <span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span>;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span>++;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-blue-300">sem_post</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 高级工作线程函数</span><br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">advanced_worker_thread</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">priority_task_queue_t</span>* <span class="text-blue-300">queue</span> = (<span class="text-blue-300">priority_task_queue_t</span>*) <span class="text-blue-300">arg</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">queue</span>-><span class="text-blue-300">running</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sem_wait</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_lock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span> <= <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">continue</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">advanced_async_task_t</span> <span class="text-blue-300">task</span> = <span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span>];<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> = (<span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> + <span class="text-yellow-1"></span>) % <span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span>;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span>--;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">active_tasks</span>++;<br>
                                <span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 执行任务</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">status_code</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-purple-400">if</span> (<span class="text-blue-300">task</span>.<span class="text-blue-300">execute</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">execute</span>(<span class="text-blue-300">task</span>.<span class="text-blue-300">arg</span>, <span class="text-blue-300">task</span>.<span class="text-blue-300">result</span>, &<span class="text-blue-300">status_code</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 更新任务结果</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">task</span>.<span class="text-blue-300">task_result</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">task_result</span>-><span class="text-blue-300">status_code</span> = <span class="text-blue-300">status_code</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">task_result</span>-><span class="text-blue-300">thread_id</span> = <span class="text-blue-300">pthread_self</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">task_result</span>-><span class="text-blue-300">result_data</span> = <span class="text-blue-300">task</span>.<span class="text-blue-300">result</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 清理资源</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">task</span>.<span class="text-blue-300">cleanup</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">cleanup</span>(<span class="text-blue-300">task</span>.<span class="text-blue-300">arg</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_lock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">active_tasks</span>--;<br>
                                <span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 示例任务执行函数</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">example_task_execute</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>, <span class="text-purple-400">int</span>* <span class="text-blue-300">status_code</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">task_id</span> = *(<span class="text-purple-400">int</span>*) <span class="text-blue-300">arg</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"执行任务 %d\n"</span>, <span class="text-blue-300">task_id</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 模拟任务执行</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-2"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"任务 %d 完成\n"</span>, <span class="text-blue-300">task_id</span>);<br>
                                <span class="text-blue-300">result</span> = <span class="text-purple-400">malloc</span>(<span class="text-yellow-100"></span>);<br>
                                <span class="text-purple-400">snprintf</span>((<span class="text-purple-400">char</span>*) <span class="text-blue-300">result</span>, <span class="text-yellow-100"></span>, <span class="text-green-300">"任务 %d 的结果"</span>, <span class="text-blue-300">task_id</span>);<br>
                                <span class="text-blue-300">status_code</span> = <span class="text-yellow-1"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">priority_task_queue_t</span>* <span class="text-blue-300">queue</span> = <span class="text-blue-300">priority_queue_create</span>(<span class="text-yellow-50"></span>, <span class="text-yellow-3"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 启动多个工作线程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_t</span> <span class="text-blue-300">workers</span>[<span class="text-yellow-3"></span>];<br>
                                <span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-3"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_create</span>(&<span class="text-blue-300">workers</span>[<span class="text-blue-300">i</span>], <span class="text-purple-400">NULL</span>, <span class="text-blue-300">advanced_worker_thread</span>, <span class="text-blue-300">queue</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 添加不同优先级的任务</span><br>
                                <span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-1"></span>; <span class="text-blue-300">i</span> <= <span class="text-yellow-10"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span>* <span class="text-blue-300">task_id</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-purple-400">int</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">task_id</span> = <span class="text-blue-300">i</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">advanced_async_task_t</span> <span class="text-blue-300">task</span> = {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">execute</span> = <span class="text-blue-300">example_task_execute</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">cleanup</span> = <span class="text-purple-400">free</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">arg</span> = <span class="text-blue-300">task_id</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">result</span> = <span class="text-purple-400">NULL</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">priority</span> = (<span class="text-blue-300">task_priority_t</span>) (<span class="text-blue-300">i</span> % <span class="text-yellow-4"></span> + <span class="text-yellow-1"></span>),<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">timeout_seconds</span> = <span class="text-yellow-30</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">priority_queue_add</span>(<span class="text-blue-300">queue</span>, <span class="text-blue-300">task</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-1"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 等待所有任务完成</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-5"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 清理资源</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">running</span> = <span class="text-yellow-0"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-3"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sem_post</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_join</span>(<span class="text-blue-300">workers</span>[<span class="text-blue-300">i</span>], <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_destroy</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-blue-300">sem_destroy</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <span class="text-purple-400">free</span>(<span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>);<br>
                                <span class="text-purple-400">free</span>(<span class="text-blue-300">queue</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">const</span> <span class="text-blue-300">employee_t</span>* <span class="text-blue-300">eb</span> = (<span class="text-purple-400">const</span> <span class="text-blue-300">employee_t</span>*) <span class="text-blue-300">b</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">ea</span>-><span class="text-blue-300">id</span> - <span class="text-blue-300">eb</span>-><span class="text-blue-300">id</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 清理函数实现</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">cleanup_employee</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">ptr</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">ptr</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>((<span class="text-blue-300">employee_t</span>*) <span class="text-blue-300">ptr</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 主函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用高级类型</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">employee_t</span> <span class="text-blue-300">emp</span> = {<span class="text-yellow-1"></span>, <span class="text-green-300">"张三"</span>, <span class="text-yellow-5000">.</span><span class="text-yellow-0"></span>};<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">data_union_t</span> <span class="text-blue-300">data</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">data</span>.<span class="text-blue-300">int_val</span> = <span class="text-yellow-42"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用_Generic类型选择</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_TYPE</span>(<span class="text-yellow-42"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_TYPE</span>(<span class="text-yellow-3">.14</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_TYPE</span>(<span class="text-green-300">"Hello"</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建管理器实例</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">manager_t</span> <span class="text-blue-300">mgr</span> = {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">employee</span> = <span class="text-blue-300">emp</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">compare</span> = <span class="text-blue-300">compare_employee</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">cleanup</span> = <span class="text-blue-300">cleanup_employee</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>};<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"员工: %s, 工资: %.2f\n"</span>, <span class="text-blue-300">mgr</span>.<span class="text-blue-300">employee</span>.<span class="text-blue-300">name</span>, <span class="text-blue-300">mgr</span>.<span class="text-blue-300">employee</span>.<span class="text-blue-300">salary</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. 数据类型 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">2. 数据类型</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 内置丰富的数据类型</h4>
                        <p class="text-slate-300 mb-4">特点：支持多种数据类型，动态类型检查，支持类型注解，内置类型转换函数。注意事项：使用type()函数查看数据类型，使用isinstance()函数检查类型。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 基本数据类型</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400"># 整数</span><br>
                                <span class="text-blue-300">num_int</span> = <span class="text-yellow-300">42</span><br>
                                <br>
                                <span class="text-blue-400"># 浮点数</span><br>
                                <span class="text-blue-300">num_float</span> = <span class="text-yellow-300">3.14159</span><br>
                                <br>
                                <span class="text-blue-400"># 字符串</span><br>
                                <span class="text-blue-300">text</span> = <span class="text-green-300">"Hello, World!"</span><br>
                                <br>
                                <span class="text-blue-400"># 布尔值</span><br>
                                <span class="text-blue-300">is_true</span> = <span class="text-purple-300">True</span><br>
                                <span class="text-blue-300">is_false</span> = <span class="text-purple-300">False</span><br>
                                <br>
                                <span class="text-blue-400"># None值</span><br>
                                <span class="text-blue-300">empty</span> = <span class="text-purple-300">None</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 静态类型系统，支持多种数据类型</h4>
                        <p class="text-slate-300 mb-4">特点：强类型检查，支持基本数据类型和复合数据类型，支持自定义数据类型，类型转换需要显式进行。注意事项：使用sizeof()函数查看数据类型大小，使用typeid()函数获取类型信息。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本数据类型</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 整数</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">num_int</span> = <span class="text-yellow-300">42</span>;<br>
                                <span class="text-blue-400">long long</span> <span class="text-blue-300">num_ll</span> = <span class="text-yellow-300">10000000000</span>;<br>
                                <br>
                                <span class="text-blue-400">// 浮点数</span><br>
                                <span class="text-blue-400">float</span> <span class="text-blue-300">num_float</span> = <span class="text-yellow-300">3.14f</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">num_double</span> = <span class="text-yellow-300">3.1415926535</span>;<br>
                                <br>
                                <span class="text-blue-400">// 字符和字符串</span><br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">c</span> = <span class="text-green-300">'A'</span>;<br>
                                <span class="text-blue-400">std::string</span> <span class="text-blue-300">text</span> = <span class="text-green-300">"Hello, World!"</span>;<br>
                                <br>
                                <span class="text-blue-400">// 布尔值</span><br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">is_true</span> = <span class="text-purple-300">true</span>;<br>
                                <span class="text-blue-400">bool</span> <span class="text-blue-300">is_false</span> = <span class="text-purple-300">false</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 基础数据类型，直接对应硬件</h4>
                        <p class="text-slate-300 mb-4">特点：数据类型直接对应硬件，支持无符号类型，内存布局明确，类型大小由编译器决定。注意事项：int类型大小在不同平台可能不同，使用sizeof()获取类型大小。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本数据类型</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 整数类型</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">num_int</span> = <span class="text-yellow-300">42</span>;<br>
                                <span class="text-blue-400">short</span> <span class="text-blue-300">num_short</span> = <span class="text-yellow-300">1000</span>;<br>
                                <span class="text-blue-400">long</span> <span class="text-blue-300">num_long</span> = <span class="text-yellow-300">1000000</span>;<br>
                                <span class="text-blue-400">long long</span> <span class="text-blue-300">num_ll</span> = <span class="text-yellow-300">10000000000</span>;<br>
                                <span class="text-blue-400">unsigned int</span> <span class="text-blue-300">num_uint</span> = <span class="text-yellow-300">4294967295</span>;<br>
                                <br>
                                <span class="text-blue-400">// 浮点数类型</span><br>
                                <span class="text-blue-400">float</span> <span class="text-blue-300">num_float</span> = <span class="text-yellow-300">3.14f</span>;<br>
                                <span class="text-blue-400">double</span> <span class="text-blue-300">num_double</span> = <span class="text-yellow-300">3.1415926535</span>;<br>
                                <br>
                                <span class="text-blue-400">// 字符类型</span><br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">c</span> = <span class="text-green-300">'A'</span>;<br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">str</span>[] = <span class="text-green-300">"Hello"</span>;<br>
                                <br>
                                <span class="text-blue-400">// 布尔值（用整数表示）</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">is_true</span> = <span class="text-yellow-300">1</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">is_false</span> = <span class="text-yellow-300">0</span>;
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. 控制流 - 条件语句 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">3. 控制流 - 条件语句</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 灵活的条件语句</h4>
                        <p class="text-slate-300 mb-4">特点：支持if-elif-else结构，支持条件表达式，支持短路求值，支持多重条件。注意事项：条件判断使用缩进区分代码块，避免使用过多的嵌套条件。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 条件语句</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">age</span> = <span class="text-yellow-300">18</span><br>
                                <br>
                                <span class="text-purple-400">if</span> <span class="text-blue-300">age</span> < <span class="text-yellow-300">18</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"未成年"</span>)<br>
                                <span class="text-purple-400">elif</span> <span class="text-blue-300">age</span> == <span class="text-yellow-300">18</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"刚成年"</span>)<br>
                                <span class="text-purple-400">else</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"成年人"</span>)<br>
                                <br>
                                <span class="text-blue-400"># 条件表达式</span><br>
                                <span class="text-blue-300">result</span> = <span class="text-green-300">"成功"</span> <span class="text-purple-400">if</span> <span class="text-yellow-300">True</span> <span class="text-purple-400">else</span> <span class="text-green-300">"失败"</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 强大的条件语句</h4>
                        <p class="text-slate-300 mb-4">特点：支持if-else if-else结构，支持三元运算符，支持短路求值，支持多重条件，支持switch-case语句。注意事项：条件判断使用花括号区分代码块，switch-case需要break语句，避免使用过多的嵌套条件。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 条件语句</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">18</span>;<br>
                                <br>
                                <span class="text-purple-400">if</span> (<span class="text-blue-300">age</span> &lt; <span class="text-yellow-300">18</span>) {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-green-300">"未成年"</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                } <span class="text-purple-400">else</span> <span class="text-purple-400">if</span> (<span class="text-blue-300">age</span> == <span class="text-yellow-300">18</span>) {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-green-300">"刚成年"</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                } <span class="text-purple-400">else</span> {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-green-300">"成年人"</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                }
                                <br>
                                <span class="text-blue-400">// 三元运算符</span><br>
                                <span class="text-green-300">std::string</span> <span class="text-blue-300">result</span> = <span class="text-purple-400">true</span> ? <span class="text-green-300">"成功"</span> : <span class="text-green-300">"失败"</span>;
                                <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-blue-300">result</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 基础条件语句，支持传统结构化编程</h4>
                        <p class="text-slate-300 mb-4">特点：支持if-else if-else结构，支持三元运算符，支持switch-case语句，支持嵌套条件。注意事项：条件判断使用花括号区分代码块，switch-case需要break语句，C89不支持在for循环中声明变量。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 条件语句</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">int</span> <span class="text-blue-300">age</span> = <span class="text-yellow-300">18</span>;<br>
                                <br>
                                <span class="text-purple-400">if</span> (<span class="text-blue-300">age</span> &lt; <span class="text-yellow-300">18</span>) {
                                    <span class="text-blue-300">printf</span>(<span class="text-green-300">"未成年\n"</span>);
                                } <span class="text-purple-400">else</span> <span class="text-purple-400">if</span> (<span class="text-blue-300">age</span> == <span class="text-yellow-300">18</span>) {
                                    <span class="text-blue-300">printf</span>(<span class="text-green-300">"刚成年\n"</span>);
                                } <span class="text-purple-400">else</span> {
                                    <span class="text-blue-300">printf</span>(<span class="text-green-300">"成年人\n"</span>);
                                }
                                <br>
                                <span class="text-blue-400">// 三元运算符</span><br>
                                <span class="text-blue-400">char</span> *<span class="text-blue-300">result</span> = (<span class="text-blue-400">int</span>)<span class="text-yellow-300">1</span> ? <span class="text-green-300">"成功"</span> : <span class="text-green-300">"失败"</span>;
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"%s\n"</span>, <span class="text-blue-300">result</span>);
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. 控制流 - 循环语句 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">4. 控制流 - 循环语句</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 强大的循环结构</h4>
                        <p class="text-slate-300 mb-4">特点：支持for循环和while循环，支持break和continue，支持else子句，支持循环嵌套。注意事项：避免无限循环，使用range()函数生成数字序列，使用enumerate()获取索引和值。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 循环语句</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400"># for循环</span><br>
                                <span class="text-purple-400">for</span> <span class="text-blue-300">i</span> <span class="text-green-300">in</span> <span class="text-purple-400">range</span>(<span class="text-yellow-300">5</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">i</span>)<br>
                                <br>
                                <span class="text-blue-400"># 遍历列表</span><br>
                                <span class="text-blue-300">fruits</span> = [<span class="text-green-300">"苹果"</span>, <span class="text-green-300">"香蕉"</span>, <span class="text-green-300">"橙子"</span>]<br>
                                <span class="text-purple-400">for</span> <span class="text-blue-300">fruit</span> <span class="text-green-300">in</span> <span class="text-blue-300">fruits</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">fruit</span>)<br>
                                <br>
                                <span class="text-blue-400"># while循环</span><br>
                                <span class="text-blue-300">count</span> = <span class="text-yellow-300">0</span><br>
                                <span class="text-purple-400">while</span> <span class="text-blue-300">count</span> < <span class="text-yellow-300">5</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">count</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;count</span> += <span class="text-yellow-300">1</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 丰富的循环语句</h4>
                        <p class="text-slate-300 mb-4">特点：支持for循环、while循环、do-while循环，支持break和continue，支持基于范围的for循环（C++11+），支持循环嵌套。注意事项：避免无限循环，使用合适的循环类型，注意循环变量的作用域。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 循环语句</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// for循环</span><br>
                                <span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-yellow-300">5</span>; ++<span class="text-blue-300">i</span>) {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-blue-300">i</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                }
                                <br>
                                <span class="text-blue-400">// 遍历数组</span><br>
                                <span class="text-green-300">std::string</span> <span class="text-blue-300">fruits</span>[] = { <span class="text-green-300">"苹果"</span>, <span class="text-green-300">"香蕉"</span>, <span class="text-green-300">"橙子"</span> };
                                <span class="text-purple-400">for</span> (<span class="text-blue-300">auto</span>& <span class="text-blue-300">fruit</span> : <span class="text-blue-300">fruits</span>) {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-blue-300">fruit</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                }
                                <br>
                                <span class="text-blue-400">// while循环</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">count</span> = <span class="text-yellow-300">0</span>;
                                <span class="text-purple-400">while</span> (<span class="text-blue-300">count</span> &lt; <span class="text-yellow-300">5</span>) {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-blue-300">count</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                    ++<span class="text-blue-300">count</span>;
                                }
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 传统循环结构</h4>
                        <p class="text-slate-300 mb-4">特点：支持for循环、while循环、do-while循环，支持break和continue，支持循环嵌套，支持数组遍历。注意事项：避免无限循环，for循环中注意分号使用，注意循环变量类型。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 循环语句</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// for循环</span><br>
                                <span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-yellow-300">5</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">i</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 遍历数组</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">numbers</span>[] = {<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">5</span>};<br>
                                <span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-yellow-300">5</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">numbers</span>[<span class="text-blue-300">i</span>]);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// while循环</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">count</span> = <span class="text-yellow-300">0</span>;<br>
                                <span class="text-purple-400">while</span> (<span class="text-blue-300">count</span> &lt; <span class="text-yellow-300">5</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">count</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">count</span>++;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. 函数定义 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">5. 函数定义</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 灵活的函数定义</h4>
                        <p class="text-slate-300 mb-4">特点：支持def关键字定义函数，支持返回值，支持文档字符串，支持嵌套函数，支持递归调用。注意事项：函数名使用下划线命名法，保持函数简洁，一个函数只做一件事。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 函数定义</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">def</span> <span class="text-blue-300">add</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;"""两数相加"""</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span><br>
                                <br>
                                <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">result</span>) <span class="text-slate-500"># 输出5</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 函数定义和调用（C99）</h4>
                        <p class="text-slate-300 mb-4">特点：支持函数声明和定义，支持返回类型，支持函数参数，支持递归调用，支持函数指针。C99支持可变参数。注意事项：函数必须在使用前声明，函数名不能重复，递归需要谨慎使用。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数定义</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 函数声明</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">a</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">b</span>);<br>
                                <br>
                                <span class="text-blue-400">// 函数定义</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">a</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 主函数</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"结果：%d\n"</span>, <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-yellow-300">0</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 递归函数示例</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">factorial</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">n</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;if</span> (<span class="text-blue-300">n</span> &lt;= <span class="text-yellow-300">1</span>) <span class="text-green-300">return</span> <span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">n</span> * <span class="text-blue-300">factorial</span>(<span class="text-blue-300">n</span> - <span class="text-yellow-300">1</span>);<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 6. 函数参数 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">6. 函数参数</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 多种参数类型</h4>
                        <p class="text-slate-300 mb-4">特点：支持位置参数，支持默认参数，支持关键字参数，支持可变位置参数(*args)，支持可变关键字参数(**kwargs)。注意事项：参数顺序为位置参数、默认参数、*args、**kwargs。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 函数参数</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">def</span> <span class="text-blue-300">func</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>, <span class="text-blue-300">c</span>=<span class="text-yellow-300">0</span>, <span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"a={a}, b={b}, c={c}"</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">args</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">kwargs</span>)<br>
                                <br>
                                <span class="text-blue-300">func</span>(<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>) <span class="text-slate-500"># 位置参数</span><br>
                                <span class="text-blue-300">func</span>(<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>) <span class="text-slate-500"># 默认参数</span><br>
                                <span class="text-blue-300">func</span>(<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-blue-300">d</span>=<span class="text-yellow-300">4</span>, <span class="text-blue-300">e</span>=<span class="text-yellow-300">5</span>) <span class="text-slate-500"># 关键字参数</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 位置参数和指针传递（C99）</h4>
                        <p class="text-slate-300 mb-4">特点：只支持位置参数，需要显式声明参数类型，使用指针传递复杂数据类型，支持函数指针参数。C99支持可变参数列表。注意事项：参数传递为值传递，指针传递可修改实参，注意指针安全性。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数参数</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 简单参数传递（值传递）</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">a</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 指针传递（引用传递）</span><br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">swap</span>(<span class="text-blue-400">int</span> *<span class="text-blue-300">x</span>, <span class="text-blue-400">int</span> *<span class="text-blue-300">y</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">temp</span> = *<span class="text-blue-300">x</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">x</span> = *<span class="text-blue-300">y</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">y</span> = <span class="text-blue-300">temp</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 数组参数</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">sum_array</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">arr</span>[], <span class="text-blue-400">int</span> <span class="text-blue-300">size</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">sum</span> = <span class="text-yellow-300">0</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-blue-300">size</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sum</span> += <span class="text-blue-300">arr</span>[<span class="text-blue-300">i</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">sum</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// C99可变参数</span><br>
                                <span class="text-blue-400">#include</span> &lt;<span class="text-blue-300">stdarg.h</span>&gt;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">sum</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">count</span>, ...) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;va_list</span> <span class="text-blue-300">args</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;va_start</span>(<span class="text-blue-300">args</span>, <span class="text-blue-300">count</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">total</span> = <span class="text-yellow-300">0</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-blue-300">count</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">total</span> += <span class="text-blue-300">va_arg</span>(<span class="text-blue-300">args</span>, <span class="text-blue-400">int</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;va_end</span>(<span class="text-blue-300">args</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">total</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 7. 函数返回值 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">7. 函数返回值</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 灵活的返回值</h4>
                        <p class="text-slate-300 mb-4">特点：支持返回单个值，支持返回多个值（自动打包为元组），支持返回None，支持返回函数对象，支持返回生成器。注意事项：多个返回值可以直接赋值给多个变量，函数默认返回None。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 函数返回值</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">def</span> <span class="text-blue-300">get_user</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-yellow-300">1</span>, <span class="text-green-300">"张三"</span>, <span class="text-yellow-300">18</span><br>
                                <br>
                                <span class="text-blue-300">id</span>, <span class="text-blue-300">name</span>, <span class="text-blue-300">age</span> = <span class="text-blue-300">get_user</span>()<br>
                                <span class="text-blue-300">print</span>(<span class="text-green-300">f"ID: {id}, 姓名: {name}, 年龄: {age}"</span>)
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 单个返回值和结构体返回（C99）</h4>
                        <p class="text-slate-300 mb-4">特点：只支持返回单个值，使用指针返回多个值，返回结构体类型，支持void返回类型，返回指针类型。C99支持内联函数。注意事项：不能返回局部变量的指针，返回指针时注意内存管理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数返回值</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 单个返回值</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">a</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用指针返回多个值</span><br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">calculate</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">a</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">b</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> *<span class="text-blue-300">sum</span>, <span class="text-blue-400">int</span> *<span class="text-blue-300">product</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">sum</span> = <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">product</span> = <span class="text-blue-300">a</span> * <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 结构体返回值</span><br>
                                <span class="text-blue-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">x</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">y</span>;<br>
                                } <span class="text-blue-300">Point</span>;<br>
                                <br>
                                <span class="text-blue-300">Point</span> <span class="text-blue-300">create_point</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">x</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">y</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;Point</span> <span class="text-blue-300">p</span> = {<span class="text-blue-300">x</span>, <span class="text-blue-300">y</span>};<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">p</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 主函数示例</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;int</span> <span class="text-blue-300">sum</span>, <span class="text-blue-300">product</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">calculate</span>(<span class="text-yellow-300">5</span>, <span class="text-yellow-300">3</span>, &<span class="text-blue-300">sum</span>, &<span class="text-blue-300">product</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"和：%d，积：%d\n"</span>, <span class="text-blue-300">sum</span>, <span class="text-blue-300">product</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 8. 字符串操作 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">8. 字符串操作</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 强大的字符串处理</h4>
                        <p class="text-slate-300 mb-4">特点：支持字符串拼接，支持格式化字符串，支持字符串方法，支持正则表达式，支持字符串切片，支持多行字符串。注意事项：字符串是不可变类型，使用f-string进行格式化（Python 3.6+），注意字符串编码。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 字符串操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">text</span> = <span class="text-green-300">"Hello, World!"</span><br>
                                <br>
                                <span class="text-blue-400"># 字符串方法</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">text</span>.<span class="text-blue-300">upper</span>()) <span class="text-slate-500"># 输出：HELLO, WORLD!</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">text</span>.<span class="text-blue-300">lower</span>()) <span class="text-slate-500"># 输出：hello, world!</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">text</span>.<span class="text-blue-300">strip</span>()) <span class="text-slate-500"># 输出：Hello, World!</span><br>
                                <br>
                                <span class="text-blue-400"># 字符串格式化</span><br>
                                <span class="text-blue-300">name</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-300">age</span> = <span class="text-yellow-300">18</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-green-300">f"我叫{name}，今年{age}岁"</span>) <span class="text-slate-500"># 输出：我叫张三，今年18岁</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 字符数组和字符串操作（C99）</h4>
                        <p class="text-slate-300 mb-4">特点：使用字符数组表示字符串，使用'\0'结尾，支持字符串处理函数（C99），支持宽字符串。C99支持可变长度数组。注意事项：字符串以'\0'结尾，注意数组越界，使用标准字符串函数。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 字符串操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 字符串声明和初始化</span><br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">str1</span>[] = <span class="text-green-300">"Hello"</span>;<br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">str2</span>[<span class="text-yellow-300">10</span>] = <span class="text-green-300">"World"</span>;<br>
                                <br>
                                <span class="text-blue-400">// 字符串复制</span><br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">dest</span>[<span class="text-yellow-300">100</span>];<br>
                                <span class="text-blue-300">strcpy</span>(<span class="text-blue-300">dest</span>, <span class="text-blue-300">str1</span>);<br>
                                <br>
                                <span class="text-blue-400">// 字符串连接</span><br>
                                <span class="text-blue-300">strcat</span>(<span class="text-blue-300">dest</span>, <span class="text-green-300">" "</span>);<br>
                                <span class="text-blue-300">strcat</span>(<span class="text-blue-300">dest</span>, <span class="text-blue-300">str2</span>);<br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"%s\n"</span>, <span class="text-blue-300">dest</span>); <span class="text-slate-500">// 输出：Hello World</span><br>
                                <br>
                                <span class="text-blue-400">// 字符串比较</span><br>
                                <span class="text-blue-400">if</span> (<span class="text-blue-300">strcmp</span>(<span class="text-blue-300">str1</span>, <span class="text-blue-300">str2</span>) == <span class="text-yellow-300">0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"字符串相等\n"</span>);<br>
                                } <span class="text-purple-400">else</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;printf</span>(<span class="text-green-300">"字符串不等\n"</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 字符串长度</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">len</span> = <span class="text-blue-300">strlen</span>(<span class="text-blue-300">str1</span>);<br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"长度：%d\n"</span>, <span class="text-blue-300">len</span>); <span class="text-slate-500">// 输出：5</span><br>
                                <br>
                                <span class="text-blue-400">// 字符数组操作（C99）</span><br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">buffer</span>[<span class="text-yellow-300">50</span>];<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">n</span> = <span class="text-yellow-300">10</span>;<br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">vla</span>[<span class="text-blue-300">n</span>]; <span class="text-slate-500">// 可变长度数组（C99）</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 9. 列表操作 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">9. 列表操作</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 强大的列表操作</h4>
                        <p class="text-slate-300 mb-4">特点：支持列表创建，支持索引访问，支持切片操作，支持列表方法（append, insert, remove, pop等），支持列表推导式，支持排序和反转。注意事项：列表是可变序列，使用切片创建副本，注意索引越界问题。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 列表操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">fruits</span> = [<span class="text-green-300">"苹果"</span>, <span class="text-green-300">"香蕉"</span>, <span class="text-green-300">"橙子"</span>]<br>
                                <br>
                                <span class="text-blue-400"># 索引访问</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">fruits</span>[<span class="text-yellow-300">0</span>]) <span class="text-slate-500"># 输出：苹果</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">fruits</span>[<span class="text-yellow-300">-1</span>]) <span class="text-slate-500"># 输出：橙子</span><br>
                                <br>
                                <span class="text-blue-400"># 切片操作</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">fruits</span>[<span class="text-yellow-300">1</span>:]) <span class="text-slate-500"># 输出：['香蕉', '橙子']</span><br>
                                <br>
                                <span class="text-blue-400"># 列表方法</span><br>
                                <span class="text-blue-300">fruits</span>.<span class="text-blue-300">append</span>(<span class="text-green-300">"葡萄"</span>)<br>
                                <span class="text-blue-300">fruits</span>.<span class="text-blue-300">insert</span>(<span class="text-yellow-300">1</span>, <span class="text-green-300">"草莓"</span>)<br>
                                <br>
                                <span class="text-blue-400"># 列表推导式</span><br>
                                <span class="text-blue-300">numbers</span> = [<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">5</span>]<br>
                                <span class="text-blue-300">squares</span> = [<span class="text-blue-300">x</span>**<span class="text-yellow-300">2</span> <span class="text-purple-400">for</span> <span class="text-blue-300">x</span> <span class="text-green-300">in</span> <span class="text-blue-300">numbers</span>]<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">squares</span>) <span class="text-slate-500"># 输出：[1, 4, 9, 16, 25]</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 数组和手动列表管理</h4>
                        <p class="text-slate-300 mb-4">特点：使用数组模拟列表，支持静态数组和动态数组（C99），手动管理列表大小，支持指针操作，需要手动实现列表操作函数。C99支持可变长度数组。注意事项：数组大小固定，需要手动跟踪元素数量，注意数组越界，需要手动内存管理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 数组和列表操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 静态数组初始化</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">fruits</span>[] = {<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>}; <span class="text-slate-500">// 1=苹果, 2=香蕉, 3=橙子</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">fruits_size</span> = <span class="text-yellow-300">3</span>;<br>
                                <br>
                                <span class="text-blue-400">// 数组索引访问</span><br>
                                <span class="text-green-300">printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">fruits</span>[<span class="text-yellow-300">0</span>]); <span class="text-slate-500">// 输出：1（苹果）</span><br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">fruits</span>[<span class="text-blue-300">fruits_size</span> - <span class="text-yellow-300">1</span>]); <span class="text-slate-500">// 输出：3（橙子）</span><br>
                                <br>
                                <span class="text-blue-400">// C99可变长度数组</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">n</span> = <span class="text-yellow-300">5</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">numbers</span>[<span class="text-blue-300">n</span>]; <span class="text-slate-500">// C99特性</span><br>
                                <span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-blue-300">n</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">numbers</span>[<span class="text-blue-300">i</span>] = (<span class="text-blue-300">i</span> + <span class="text-yellow-300">1</span>) * (<span class="text-blue-300">i</span> + <span class="text-yellow-300">1</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 动态数组分配（C99）</span><br>
                                <span class="text-blue-400">int</span> *<span class="text-blue-300">dynamic_array</span> = <span class="text-green-300">malloc</span>(<span class="text-yellow-300">10</span> * <span class="text-purple-400">sizeof</span>(<span class="text-blue-400">int</span>));<br>
                                <span class="text-purple-400">if</span> (<span class="text-blue-300">dynamic_array</span> == <span class="text-purple-400">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-green-300">printf</span>(<span class="text-green-300">"内存分配失败\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">1</span>;<br>
                                }<br>
                                <span class="text-green-300">free</span>(<span class="text-blue-300">dynamic_array</span>); <span class="text-slate-500">// 释放内存</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 10. 字典操作 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">10. 字典操作</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 高效的字典操作</h4>
                        <p class="text-slate-300 mb-4">特点：支持键值对存储，支持多种创建方式，支持索引访问，支持字典方法（get, keys, values, items等），支持字典推导式，支持字典合并。注意事项：字典键必须是不可变类型，使用get()方法避免KeyError，Python 3.7+字典保持插入顺序。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 字典操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">person</span> = {
                                    <span class="text-green-300">"name"</span>: <span class="text-green-300">"张三"</span>,
                                    <span class="text-green-300">"age"</span>: <span class="text-yellow-300">18</span>,
                                    <span class="text-green-300">"gender"</span>: <span class="text-green-300">"男"</span>
                                }<br>
                                <br>
                                <span class="text-blue-400"># 访问字典</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">person</span>[<span class="text-green-300">"name"</span>]) <span class="text-slate-500"># 输出：张三</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">person</span>.<span class="text-blue-300">get</span>(<span class="text-green-300">"address"</span>, <span class="text-green-300">"未知"</span>)) <span class="text-slate-500"># 输出：未知</span><br>
                                <br>
                                <span class="text-blue-400"># 字典方法</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">person</span>.<span class="text-blue-300">keys</span>()) <span class="text-slate-500"># 输出：dict_keys(['name', 'age', 'gender'])</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">person</span>.<span class="text-blue-300">values</span>()) <span class="text-slate-500"># 输出：dict_values(['张三', 18, '男'])</span><br>
                                <br>
                                <span class="text-blue-400"># 字典推导式</span><br>
                                <span class="text-blue-300">numbers</span> = [<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">5</span>]<br>
                                <span class="text-blue-300">square_dict</span> = {<span class="text-blue-300">x</span>: <span class="text-blue-300">x</span>**<span class="text-yellow-300">2</span> <span class="text-purple-400">for</span> <span class="text-blue-300">x</span> <span class="text-green-300">in</span> <span class="text-blue-300">numbers</span>}<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">square_dict</span>) <span class="text-slate-500"># 输出：{1: 1, 2: 4, 3: 9, 4: 16, 5: 25}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 结构体和手动哈希实现</h4>
                        <p class="text-slate-300 mb-4">特点：使用结构体数组模拟字典，需要手动实现哈希函数，支持字符串键和数值键，支持动态扩容。C11支持匿名结构体和联合体。注意事项：需要手动管理内存，处理哈希冲突，注意键的字符串长度限制，实现查找算法。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 结构体定义和字典操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义键值对结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">key</span>[<span class="text-yellow-300">50</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">value</span>;<br>
                                } <span class="text-blue-300">KeyValue</span>;<br>
                                <br>
                                <span class="text-blue-400">// 创建键值对数组</span><br>
                                <span class="text-blue-300">KeyValue</span> <span class="text-blue-300">person</span>[] = {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span class="text-green-300">"name"</span>, <span class="text-yellow-300">12345</span>},<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span class="text-green-300">"age"</span>, <span class="text-yellow-300">18</span>},<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span class="text-green-300">"gender"</span>, <span class="text-yellow-300">1</span>} <span class="text-slate-500">// 1=男, 0=女</span><br>
                                };<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">person_size</span> = <span class="text-yellow-300">3</span>;<br>
                                <br>
                                <span class="text-blue-400">// 手动查找函数</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">find_value</span>(<span class="text-blue-300">KeyValue</span> *<span class="text-blue-300">data</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">size</span>, <span class="text-blue-400">char</span> *<span class="text-blue-300">key</span>) {<br>
                                <span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-blue-300">size</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">strcmp</span>(<span class="text-blue-300">data</span>[<span class="text-blue-300">i</span>].<span class="text-blue-300">key</span>, <span class="text-blue-300">key</span>) == <span class="text-yellow-300">0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">data</span>[<span class="text-blue-300">i</span>].<span class="text-blue-300">value</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <span class="text-purple-400">return</span> <span class="text-yellow-300">-1</span>; <span class="text-slate-500">// 未找到</span><br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用示例</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">name_value</span> = <span class="text-blue-300">find_value</span>(<span class="text-blue-300">person</span>, <span class="text-blue-300">person_size</span>, <span class="text-green-300">"name"</span>);<br>
                                <span class="text-green-300">printf</span>(<span class="text-green-300">"name的值：%d\n"</span>, <span class="text-blue-300">name_value</span>);
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 11. 集合操作 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">11. 集合操作</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 高效的集合操作</h4>
                        <p class="text-slate-300 mb-4">特点：支持集合创建，支持去重，支持集合运算（交集、并集、差集、对称差集），支持集合方法，支持集合推导式。注意事项：集合元素必须是不可变类型，集合是无序的，不支持索引访问。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 集合操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">s1</span> = {<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>}<br>
                                <span class="text-blue-300">s2</span> = {<span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">5</span>, <span class="text-yellow-300">6</span>}<br>
                                <br>
                                <span class="text-blue-400"># 集合运算</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">s1</span> & <span class="text-blue-300">s2</span>) <span class="text-slate-500"># 交集：{3, 4}</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">s1</span> | <span class="text-blue-300">s2</span>) <span class="text-slate-500"># 并集：{1, 2, 3, 4, 5, 6}</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">s1</span> - <span class="text-blue-300">s2</span>) <span class="text-slate-500"># 差集：{1, 2}</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">s1</span> ^ <span class="text-blue-300">s2</span>) <span class="text-slate-500"># 对称差集：{1, 2, 5, 6}</span><br>
                                <br>
                                <span class="text-blue-400"># 集合方法</span><br>
                                <span class="text-blue-300">s1</span>.<span class="text-blue-300">add</span>(<span class="text-yellow-300">5</span>)<br>
                                <span class="text-blue-300">s1</span>.<span class="text-blue-300">remove</span>(<span class="text-yellow-300">1</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">s1</span>) <span class="text-slate-500"># 输出：{2, 3, 4, 5}</span><br>
                                <br>
                                <span class="text-blue-400"># 集合推导式</span><br>
                                <span class="text-blue-300">s3</span> = {<span class="text-blue-300">x</span> <span class="text-purple-400">for</span> <span class="text-blue-300">x</span> <span class="text-green-300">in</span> <span class="text-purple-400">range</span>(<span class="text-yellow-300">10</span>) <span class="text-purple-400">if</span> <span class="text-blue-300">x</span> % <span class="text-yellow-300">2</span> == <span class="text-yellow-300">0</span>}<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">s3</span>) <span class="text-slate-500"># 输出：{0, 2, 4, 6, 8}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 手动集合实现</h4>
                        <p class="text-slate-300 mb-4">特点：使用数组和位图模拟集合，支持集合运算，需要手动实现去重算法，支持整数集合和字符集合。C11支持布尔类型。注意事项：需要手动管理集合大小和容量，注意数组越界，实现集合运算算法需要额外的内存空间。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 集合操作实现</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 整数集合定义</span><br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">MAX_SET_SIZE</span> <span class="text-yellow-300">100</span><br>
                                <span class="text-blue-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">elements</span>[<span class="text-blue-300">MAX_SET_SIZE</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">size</span>;<br>
                                } <span class="text-blue-300">IntSet</span>;<br>
                                <br>
                                <span class="text-blue-400">// 初始化集合</span><br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">init_set</span>(<span class="text-blue-300">IntSet</span> *<span class="text-blue-300">set</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">set</span>-><span class="text-blue-300">size</span> = <span class="text-yellow-300">0</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 添加元素（自动去重）</span><br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">add_element</span>(<span class="text-blue-300">IntSet</span> *<span class="text-blue-300">set</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">value</span>) {<br>
                                <span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-blue-300">set</span>-><span class="text-blue-300">size</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">set</span>-><span class="text-blue-300">elements</span>[<span class="text-blue-300">i</span>] == <span class="text-blue-300">value</span>) <span class="text-purple-400">return</span>; <span class="text-slate-500">// 已存在</span><br>
                                }<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">set</span>-><span class="text-blue-300">size</span> &lt; <span class="text-blue-300">MAX_SET_SIZE</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">set</span>-><span class="text-blue-300">elements</span>[<span class="text-blue-300">set</span>-><span class="text-blue-300">size</span>++] = <span class="text-blue-300">value</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 集合交集</span><br>
                                <span class="text-blue-300">IntSet</span> <span class="text-blue-300">intersection</span>(<span class="text-blue-300">IntSet</span> *<span class="text-blue-300">s1</span>, <span class="text-blue-300">IntSet</span> *<span class="text-blue-300">s2</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">IntSet</span> <span class="text-blue-300">result</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">init_set</span>(&<span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> &lt; <span class="text-blue-300">s1</span>-><span class="text-blue-300">size</span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">j</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">j</span> &lt; <span class="text-blue-300">s2</span>-><span class="text-blue-300">size</span>; <span class="text-blue-300">j</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">s1</span>-><span class="text-blue-300">elements</span>[<span class="text-blue-300">i</span>] == <span class="text-blue-300">s2</span>-><span class="text-blue-300">elements</span>[<span class="text-blue-300">j</span>]) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">add_element</span>(&<span class="text-blue-300">result</span>, <span class="text-blue-300">s1</span>-><span class="text-blue-300">elements</span>[<span class="text-blue-300">i</span>]);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">break</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">result</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 12. 函数嵌套 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">12. 函数嵌套</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 支持函数嵌套</h4>
                        <p class="text-slate-300 mb-4">特点：支持在函数内部定义函数，内部函数可以访问外部函数的变量，支持闭包。注意事项：内部函数可以捕获外部函数的变量，当外部函数返回内部函数时形成闭包。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 函数嵌套</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">def</span> <span class="text-blue-300">outer</span>(<span class="text-blue-300">x</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">inner</span>(<span class="text-blue-300">y</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">x</span> + <span class="text-blue-300">y</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">inner</span><br>
                                <br>
                                <span class="text-blue-300">add5</span> = <span class="text-blue-300">outer</span>(<span class="text-yellow-300">5</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">add5</span>(<span class="text-yellow-300">3</span>)) <span class="text-slate-500"># 输出8</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 不支持函数嵌套，使用函数指针</h4>
                        <p class="text-slate-300 mb-4">特点：C语言不支持在函数内部定义函数，但可以使用函数指针模拟类似效果，需要手动管理上下文变量。C11支持匿名联合体。注意事项：函数指针需要额外的上下文传递，无法直接访问外部函数的局部变量。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数指针模拟闭包</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 上下文结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">base_value</span>;<br>
                                } <span class="text-blue-300">AddContext</span>;<br>
                                <br>
                                <span class="text-blue-400">// 内部函数（实际是普通函数）</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add_with_base</span>(<span class="text-blue-400">void</span> *<span class="text-blue-300">context</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">value</span>) {<br>
                                <span class="text-blue-300">AddContext</span> *<span class="text-blue-300">ctx</span> = (<span class="text-blue-300">AddContext</span> *)<span class="text-blue-300">context</span>;<br>
                                <span class="text-purple-400">return</span> <span class="text-blue-300">ctx</span>-><span class="text-blue-300">base_value</span> + <span class="text-blue-300">value</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 模拟outer函数</span><br>
                                <span class="text-blue-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> (*<span class="text-blue-300">func</span>)(<span class="text-blue-400">void</span>*, <span class="text-blue-400">int</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">AddContext</span> <span class="text-blue-300">ctx</span>;<br>
                                } <span class="text-blue-300">Closure</span>;<br>
                                <br>
                                <span class="text-blue-300">Closure</span> <span class="text-blue-300">create_adder</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">base</span>) {<br>
                                <span class="text-blue-300">Closure</span> <span class="text-blue-300">closure</span>;<br>
                                <span class="text-blue-300">closure</span>.<span class="text-blue-300">func</span> = <span class="text-blue-300">add_with_base</span>;<br>
                                <span class="text-blue-300">closure</span>.<span class="text-blue-300">ctx</span>.<span class="text-blue-300">base_value</span> = <span class="text-blue-300">base</span>;<br>
                                <span class="text-purple-400">return</span> <span class="text-blue-300">closure</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 13. 匿名函数 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">13. 匿名函数</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - lambda表达式</h4>
                        <p class="text-slate-300 mb-4">特点：使用lambda关键字创建匿名函数，只能包含一个表达式，返回表达式的结果，常用于简单的函数定义。注意事项：lambda表达式适合简单的逻辑，复杂逻辑应使用def定义函数。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 匿名函数</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">add</span> = <span class="text-purple-400">lambda</span> <span class="text-blue-300">x</span>, <span class="text-blue-300">y</span>: <span class="text-blue-300">x</span> + <span class="text-blue-300">y</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>)) <span class="text-slate-500"># 输出5</span><br>
                                <br>
                                <span class="text-blue-400"># 结合内置函数使用</span><br>
                                <span class="text-blue-300">numbers</span> = [<span class="text-yellow-300">3</span>, <span class="text-yellow-300">1</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">1</span>, <span class="text-yellow-300">5</span>]<br>
                                <span class="text-blue-300">sorted_numbers</span> = <span class="text-purple-400">sorted</span>(<span class="text-blue-300">numbers</span>, <span class="text-blue-300">key</span>=<span class="text-purple-400">lambda</span> <span class="text-blue-300">x</span>: -<span class="text-blue-300">x</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">sorted_numbers</span>) <span class="text-slate-500"># 输出[5, 4, 3, 1, 1]</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 使用函数指针实现</h4>
                        <p class="text-slate-300 mb-4">特点：C语言没有内置匿名函数，但可以使用函数指针实现类似功能，支持简单的函数定义和传递。C99支持复合字面量。注意事项：需要预先定义函数，不能内联定义，函数指针类型需要匹配。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数指针模拟匿名函数</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义函数指针类型</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-blue-400">int</span> (*<span class="text-blue-300">BinaryFunc</span>)(<span class="text-blue-400">int</span>, <span class="text-blue-400">int</span>);<br>
                                <br>
                                <span class="text-blue-400">// 普通函数定义（模拟匿名函数）</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add_func</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">x</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">y</span>) {<br>
                                <span class="text-purple-400">return</span> <span class="text-blue-300">x</span> + <span class="text-blue-300">y</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 函数指针变量（模拟匿名函数）</span><br>
                                <span class="text-blue-300">BinaryFunc</span> <span class="text-blue-300">add</span> = <span class="text-blue-300">add_func</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>); <span class="text-slate-500">// 输出5</span><br>
                                <br>
                                <span class="text-blue-400">// 简单的排序比较函数</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">compare_desc</span>(<span class="text-blue-400">const</span> <span class="text-blue-400">void</span> *<span class="text-blue-300">a</span>, <span class="text-blue-400">const</span> <span class="text-blue-400">void</span> *<span class="text-blue-300">b</span>) {<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">int_a</span> = *(<span class="text-blue-400">const</span> <span class="text-blue-400">int</span>*)<span class="text-blue-300">a</span>;<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">int_b</span> = *(<span class="text-blue-400">const</span> <span class="text-blue-400">int</span>*)<span class="text-blue-300">b</span>;<br>
                                <span class="text-purple-400">return</span> <span class="text-blue-300">int_b</span> - <span class="text-blue-300">int_a</span>; <span class="text-slate-500">// 降序排列</span><br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用函数指针进行排序</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">numbers</span>[] = {<span class="text-yellow-300">3</span>, <span class="text-yellow-300">1</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">1</span>, <span class="text-yellow-300">5</span>};<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">n</span> = <span class="text-yellow-300">5</span>;<br>
                                <span class="text-blue-300">qsort</span>(<span class="text-blue-300">numbers</span>, <span class="text-blue-300">n</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-400">int</span>), <span class="text-blue-300">compare_desc</span>);
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 14. 类和对象 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">14. 类和对象</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 面向对象编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用class关键字定义类，支持实例化对象，支持属性和方法，支持构造函数__init__，支持析构函数__del__。注意事项：类名使用驼峰命名法，方法第一个参数为self，代表实例本身。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 类和对象</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Person</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__init__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">name</span>, <span class="text-blue-300">age</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.name</span> = <span class="text-blue-300">name</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.age</span> = <span class="text-blue-300">age</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">greet</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"你好，我是{self.name}，今年{self.age}岁"</span>)<br>
                                <br>
                                <span class="text-blue-400"># 实例化对象</span><br>
                                <span class="text-blue-300">person</span> = <span class="text-blue-300">Person</span>(<span class="text-green-300">"张三"</span>, <span class="text-yellow-300">18</span>)<br>
                                <span class="text-blue-300">person</span>.<span class="text-blue-300">greet</span>()
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 使用结构体模拟类</h4>
                        <p class="text-slate-300 mb-4">特点：C语言没有内置类，使用结构体模拟对象，使用函数指针模拟方法，需要手动分配内存。C99支持复合字面量。注意事项：需要手动管理内存，没有自动析构，需要实现构造函数和析构函数模式。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 结构体模拟类和对象</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义结构体（模拟类）</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Person</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-300">50</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">age</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (*<span class="text-blue-300">greet</span>)(<span class="text-purple-400">struct</span> <span class="text-blue-300">Person</span>* <span class="text-blue-300">self</span>); <span class="text-slate-500">// 函数指针模拟方法</span><br>
                                } <span class="text-blue-300">Person</span>;<br>
                                <br>
                                <span class="text-blue-400">// 构造函数</span><br>
                                <span class="text-blue-300">Person</span>* <span class="text-blue-300">person_create</span>(<span class="text-blue-400">char</span> *<span class="text-blue-300">name</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">age</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span> = <span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Person</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">p</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">p</span>-><span class="text-blue-300">age</span> = <span class="text-blue-300">age</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">p</span>-><span class="text-blue-300">greet</span> = <span class="text-blue-300">person_greet</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">p</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 方法实现</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">person_greet</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"你好，我是%s，今年%d岁"</span>, <span class="text-blue-300">self</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">self</span>-><span class="text-blue-300">age</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 析构函数</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">person_destroy</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">p</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用示例</span><br>
                                <span class="text-blue-300">Person</span> *<span class="text-blue-300">person</span> = <span class="text-blue-300">person_create</span>(<span class="text-green-300">"张三"</span>, <span class="text-yellow-300">18</span>);<br>
                                <span class="text-blue-300">person</span>-><span class="text-blue-300">greet</span>(<span class="text-blue-300">person</span>);<br>
                                <span class="text-blue-300">person_destroy</span>(<span class="text-blue-300">person</span>);
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 15. 继承 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">15. 继承</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 支持继承机制</h4>
                        <p class="text-slate-300 mb-4">特点：支持单继承，支持多继承，支持方法重写，支持super()函数调用父类方法，支持MRO（方法解析顺序）。注意事项：多继承时注意方法名冲突，使用super()调用父类方法。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 继承</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Animal</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">speak</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"动物在说话"</span>)<br>
                                <br>
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Dog</span>(<span class="text-blue-300">Animal</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">speak</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super</span>().<span class="text-blue-300">speak</span>()<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"汪汪汪"</span>)<br>
                                <br>
                                <span class="text-blue-300">dog</span> = <span class="text-blue-300">Dog</span>()<br>
                                <span class="text-blue-300">dog</span>.<span class="text-blue-300">speak</span>()
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 结构体嵌套模拟继承</h4>
                        <p class="text-slate-300 mb-4">特点：C语言没有内置继承，使用结构体嵌套模拟，支持方法重写，支持函数指针调用。C11支持匿名结构体。注意事项：需要手动实现方法表结构，父类方法需要通过函数指针调用，注意类型转换。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 结构体嵌套模拟继承</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义父类结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Animal</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-300">30</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (*<span class="text-blue-300">speak</span>)(<span class="text-purple-400">struct</span> <span class="text-blue-300">Animal</span>* <span class="text-blue-300">self</span>);<br>
                                } <span class="text-blue-300">Animal</span>;<br>
                                <br>
                                <span class="text-blue-400">// 父类构造函数</span><br>
                                <span class="text-blue-300">Animal</span>* <span class="text-blue-300">animal_create</span>(<span class="text-blue-400">char</span> *<span class="text-blue-300">name</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Animal</span> *<span class="text-blue-300">a</span> = <span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Animal</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">a</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">a</span>-><span class="text-blue-300">speak</span> = <span class="text-blue-300">animal_speak</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 父类方法</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">animal_speak</span>(<span class="text-blue-300">Animal</span> *<span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"动物在说话\n"</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 定义子类结构体（继承父类）</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Dog</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Animal</span> <span class="text-blue-300">base</span>; <span class="text-slate-500">// 嵌套父类</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">breed</span>[<span class="text-yellow-300">20</span>];<br>
                                } <span class="text-blue-300">Dog</span>;<br>
                                <br>
                                <span class="text-blue-400">// 子类构造函数</span><br>
                                <span class="text-blue-300">Dog</span>* <span class="text-blue-300">dog_create</span>(<span class="text-blue-400">char</span> *<span class="text-blue-300">name</span>, <span class="text-blue-400">char</span> *<span class="text-blue-300">breed</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Dog</span> *<span class="text-blue-300">d</span> = <span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Dog</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">d</span>-><span class="text-blue-300">base.name</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">d</span>-><span class="text-blue-300">breed</span>, <span class="text-blue-300">breed</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">d</span>-><span class="text-blue-300">base.speak</span> = <span class="text-blue-300">dog_speak</span>; <span class="text-slate-500">// 重写方法</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">d</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 子类方法（重写）</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">dog_speak</span>(<span class="text-blue-300">Animal</span> *<span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">animal_speak</span>(<span class="text-blue-300">self</span>); <span class="text-slate-500">// 调用父类方法</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"汪汪汪\n"</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用示例</span><br>
                                <span class="text-blue-300">Animal</span> *<span class="text-blue-300">animal</span> = <span class="text-blue-300">animal_create</span>(<span class="text-green-300">"小动物"</span>);<br>
                                <span class="text-blue-300">Dog</span> *<span class="text-blue-300">dog</span> = <span class="text-blue-300">dog_create</span>(<span class="text-green-300">"旺财"</span>, <span class="text-green-300">"金毛"</span>);<br>
                                <span class="text-blue-300">animal</span>-><span class="text-blue-300">speak</span>(<span class="text-blue-300">animal</span>);<br>
                                <span class="text-blue-300">dog</span>-><span class="text-blue-300">base.speak</span>((<span class="text-blue-300">Animal</span>*)<span class="text-blue-300">dog</span>);
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 16. 多态 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">16. 多态</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 支持多态</h4>
                        <p class="text-slate-300 mb-4">特点：动态类型语言，支持鸭子类型，支持多态，不需要显式声明接口。注意事项：多态通过方法重写实现，不同类的实例可以调用相同的方法名，产生不同的行为。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 多态</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Cat</span>(<span class="text-blue-300">Animal</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">speak</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"喵喵喵"</span>)<br>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">make_animal_speak</span>(<span class="text-blue-300">animal</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;animal</span>.<span class="text-blue-300">speak</span>()<br>
                                <br>
                                <span class="text-blue-300">dog</span> = <span class="text-blue-300">Dog</span>()<br>
                                <span class="text-blue-300">cat</span> = <span class="text-blue-300">Cat</span>()<br>
                                <br>
                                <span class="text-blue-300">make_animal_speak</span>(<span class="text-blue-300">dog</span>) <span class="text-slate-500"># 输出：动物在说话\n汪汪汪</span><br>
                                <span class="text-blue-300">make_animal_speak</span>(<span class="text-blue-300">cat</span>) <span class="text-slate-500"># 输出：喵喵喵</span>
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 函数指针实现多态</h4>
                        <p class="text-slate-300 mb-4">特点：C语言通过函数指针实现多态，相同函数指针调用不同函数，支持通用接口调用。注意事项：需要使用统一的函数指针类型，需要类型转换，运行时多态由函数指针决定。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数指针实现多态</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义通用动物结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Animal_vtable</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (*<span class="text-blue-300">speak</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> *(*<span class="text-blue-300">get_name</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">self</span>);<br>
                                } <span class="text-blue-300">Animal_vtable</span>;<br>
                                <br>
                                <span class="text-blue-400">// 通用Animal接口</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Animal_interface</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Animal_vtable</span> *<span class="text-blue-300">vtable</span>;<br>
                                } <span class="text-blue-300">Animal_interface</span>;<br>
                                <br>
                                <span class="text-blue-400">// 猫结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Cat</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Animal_vtable</span> *<span class="text-blue-300">vtable</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-300">20</span>];<br>
                                } <span class="text-blue-300">Cat</span>;<br>
                                <br>
                                <span class="text-blue-400">// 猫的方法实现</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">cat_speak</span>(<span class="text-purple-400">void</span> *<span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Cat</span> *<span class="text-blue-300">cat</span> = (<span class="text-blue-300">Cat</span>*)<span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"%s：喵喵喵\n"</span>, <span class="text-blue-300">cat</span>-><span class="text-blue-300">name</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 猫的姓名获取</span><br>
                                <span class="text-blue-400">char</span>* <span class="text-blue-300">cat_get_name</span>(<span class="text-purple-400">void</span> *<span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Cat</span> *<span class="text-blue-300">cat</span> = (<span class="text-blue-300">Cat</span>*)<span class="text-blue-300">self</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">cat</span>-><span class="text-blue-300">name</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 创建猫对象</span><br>
                                <span class="text-blue-300">Cat</span>* <span class="text-blue-300">cat_create</span>(<span class="text-blue-400">char</span> *<span class="text-blue-300">name</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Cat</span> *<span class="text-blue-300">c</span> = <span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Cat</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">c</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">c</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 通用函数（多态）</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">make_animal_speak</span>(<span class="text-blue-300">Animal_interface</span> *<span class="text-blue-300">animal</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">animal</span>-><span class="text-blue-300">vtable</span>-><span class="text-blue-300">speak</span>(<span class="text-blue-300">animal</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用示例</span><br>
                                <span class="text-blue-300">Dog</span> *<span class="text-blue-300">dog</span> = <span class="text-blue-300">dog_create</span>(<span class="text-green-300">"旺财"</span>, <span class="text-green-300">"金毛"</span>);<br>
                                <span class="text-blue-300">Cat</span> *<span class="text-blue-300">cat</span> = <span class="text-blue-300">cat_create</span>(<span class="text-green-300">"咪咪"</span>);<br>
                                <br>
                                <span class="text-blue-300">Animal_interface</span> <span class="text-blue-300">dog_interface</span> = {<span class="text-green-300">&amp;dog_vtable</span>};<br>
                                <span class="text-blue-300">Animal_interface</span> <span class="text-blue-300">cat_interface</span> = {<span class="text-green-300">&amp;cat_vtable</span>};<br>
                                <br>
                                <span class="text-blue-300">make_animal_speak</span>(&<span class="text-blue-300">dog_interface</span>); <span class="text-slate-500">// 输出：旺财在说话\n汪汪汪</span><br>
                                <span class="text-blue-300">make_animal_speak</span>(&<span class="text-blue-300">cat_interface</span>); <span class="text-slate-500">// 输出：咪咪：喵喵喵</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 17. 封装 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">17. 封装</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 支持封装机制</h4>
                        <p class="text-slate-300 mb-4">特点：支持属性私有化（使用单下划线或双下划线），支持@property装饰器定义只读属性，支持@property和@属性名.setter装饰器定义读写属性。注意事项：双下划线属性会被名称修饰，只能通过类内部访问。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 封装</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Person</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__init__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">name</span>, <span class="text-blue-300">age</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self._name</span> = <span class="text-blue-300">name</span> <span class="text-slate-500"># 保护属性</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.__age</span> = <span class="text-blue-300">age</span> <span class="text-slate-500"># 私有属性</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;@property</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">name</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">self</span>.<span class="text-blue-300">_name</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;@name.setter</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">name</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">value</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self._name</span> = <span class="text-blue-300">value</span>
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 使用static和结构体实现封装</h4>
                        <p class="text-slate-300 mb-4">特点：使用static关键字实现数据隐藏，使用结构体封装数据，提供公共接口函数访问数据，使用头文件和实现文件分离。C99支持复合字面量。注意事项：static函数只能在当前文件访问，结构体字段命名约定标识私有性。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// person.h - 公共接口</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">#ifndef</span> <span class="text-blue-300">PERSON_H</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">PERSON_H</span><br>
                                <br>
                                <span class="text-blue-400">// 只暴露不透明指针</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Person</span> <span class="text-blue-300">Person</span>;<br>
                                <br>
                                <span class="text-blue-400">// 公共接口函数</span><br>
                                <span class="text-blue-300">Person</span>* <span class="text-blue-300">person_create</span>(<span class="text-blue-400">char</span> *<span class="text-blue-300">name</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">age</span>);<br>
                                <span class="text-blue-400">char</span>* <span class="text-blue-300">person_get_name</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>);<br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">person_get_age</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>);<br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">person_set_age</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">age</span>);<br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">person_destroy</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>);<br>
                                <br>
                                <span class="text-purple-400">#endif</span><br>
                            </div>
                        </div>
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// person.c - 私有实现</div>
                                <span class="text-purple-400">#include</span> <span class="text-green-300">"person.h"</span><br>
                                <span class="text-purple-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-purple-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 私有结构体（隐藏实现）</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Person_private</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">_name</span>[<span class="text-yellow-300">50</span>]; <span class="text-slate-500">// 下划线表示私有</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">_age</span>; <span class="text-slate-500">// 下划线表示私有</span><br>
                                } <span class="text-blue-300">Person_private</span>;<br>
                                <br>
                                <span class="text-blue-400">// 私有函数（static函数）</span><br>
                                <span class="text-purple-400">static</span> <span class="text-purple-400">void</span> <span class="text-blue-300">validate_age</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">age</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">age</span> &lt; <span class="text-yellow-300">0</span> || <span class="text-blue-300">age</span> &gt; <span class="text-yellow-300">150</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">age</span> = <span class="text-yellow-300">0</span>; <span class="text-slate-500">// 简单的输入验证</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 公共函数实现</span><br>
                                <span class="text-blue-300">Person</span>* <span class="text-blue-300">person_create</span>(<span class="text-blue-400">char</span> *<span class="text-blue-300">name</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">age</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Person_private</span> *<span class="text-blue-300">p</span> = <span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Person_private</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">p</span>-><span class="text-blue-300">_name</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validate_age</span>(<span class="text-blue-300">age</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">p</span>-><span class="text-blue-300">_age</span> = <span class="text-blue-300">age</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> (<span class="text-blue-300">Person</span>*)<span class="text-blue-300">p</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// Getter方法</span><br>
                                <span class="text-blue-400">char</span>* <span class="text-blue-300">person_get_name</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Person_private</span> *<span class="text-blue-300">pp</span> = (<span class="text-blue-300">Person_private</span>*)<span class="text-blue-300">p</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">pp</span>-><span class="text-blue-300">_name</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// Setter方法（封装数据访问）</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">person_set_age</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">age</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Person_private</span> *<span class="text-blue-300">pp</span> = (<span class="text-blue-300">Person_private</span>*)<span class="text-blue-300">p</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">validate_age</span>(<span class="text-blue-300">age</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pp</span>-><span class="text-blue-300">_age</span> = <span class="text-blue-300">age</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 析构函数</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">person_destroy</span>(<span class="text-blue-300">Person</span> *<span class="text-blue-300">p</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">p</span>);<br>
                                }<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 18. 特殊方法 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">18. 特殊方法</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 丰富的特殊方法</h4>
                        <p class="text-slate-300 mb-4">特点：支持多种特殊方法（魔术方法），用于实现运算符重载，支持自定义对象的行为，如__str__、__repr__、__add__等。注意事项：特殊方法以双下划线开头和结尾，由Python解释器自动调用。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 特殊方法</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Vector</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__init__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">x</span>, <span class="text-blue-300">y</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.x</span> = <span class="text-blue-300">x</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.y</span> = <span class="text-blue-300">y</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__add__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">other</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">Vector</span>(<span class="text-blue-300">self</span>.<span class="text-blue-300">x</span> + <span class="text-blue-300">other</span>.<span class="text-blue-300">x</span>, <span class="text-blue-300">self</span>.<span class="text-blue-300">y</span> + <span class="text-blue-300">other</span>.<span class="text-blue-300">y</span>)<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__str__</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-green-300">f"Vector({self.x}, {self.y})"</span><br>
                                <br>
                                <span class="text-blue-300">v1</span> = <span class="text-blue-300">Vector</span>(<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>)<br>
                                <span class="text-blue-300">v2</span> = <span class="text-blue-300">Vector</span>(<span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>)<br>
                                <span class="text-blue-300">v3</span> = <span class="text-blue-300">v1</span> + <span class="text-blue-300">v2</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">v3</span>) <span class="text-slate-500"># 输出：Vector(4, 6)</span>
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 函数指针模拟特殊方法</h4>
                        <p class="text-slate-300 mb-4">特点：C语言没有内置特殊方法，使用函数指针模拟运算符重载，使用自定义函数实现__str__类似功能，使用构造函数和析构函数。C99支持复合字面量。注意事项：需要手动实现所有特殊方法，没有自动调用机制。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 函数指针模拟特殊方法</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义向量结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Vector</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">double</span> <span class="text-blue-300">x</span>, <span class="text-blue-300">y</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Vector</span>* (*<span class="text-blue-300">add</span>)(<span class="text-blue-300">Vector</span>*, <span class="text-blue-300">Vector</span>*); <span class="text-slate-500">// 模拟__add__</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (*<span class="text-blue-300">to_string</span>)(<span class="text-blue-300">Vector</span>*, <span class="text-blue-400">char</span>*); <span class="text-slate-500">// 模拟__str__</span><br>
                                } <span class="text-blue-300">Vector</span>;<br>
                                <br>
                                <span class="text-blue-400">// 构造函数（模拟__init__）</span><br>
                                <span class="text-blue-300">Vector</span>* <span class="text-blue-300">vector_create</span>(<span class="text-blue-400">double</span> <span class="text-blue-300">x</span>, <span class="text-blue-400">double</span> <span class="text-blue-300">y</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Vector</span> *<span class="text-blue-300">v</span> = <span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Vector</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">v</span>-><span class="text-blue-300">x</span> = <span class="text-blue-300">x</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">v</span>-><span class="text-blue-300">y</span> = <span class="text-blue-300">y</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">v</span>-><span class="text-blue-300">add</span> = <span class="text-blue-300">vector_add</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">v</span>-><span class="text-blue-300">to_string</span> = <span class="text-blue-300">vector_to_string</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">v</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 模拟__add__方法</span><br>
                                <span class="text-blue-300">Vector</span>* <span class="text-blue-300">vector_add</span>(<span class="text-blue-300">Vector</span> *<span class="text-blue-300">self</span>, <span class="text-blue-300">Vector</span> *<span class="text-blue-300">other</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">vector_create</span>(<span class="text-blue-300">self</span>-><span class="text-blue-300">x</span> + <span class="text-blue-300">other</span>-><span class="text-blue-300">x</span>, <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">self</span>-><span class="text-blue-300">y</span> + <span class="text-blue-300">other</span>-><span class="text-blue-300">y</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 模拟__str__方法</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">vector_to_string</span>(<span class="text-blue-300">Vector</span> *<span class="text-blue-300">self</span>, <span class="text-blue-400">char</span> *<span class="text-blue-300">buffer</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sprintf</span>(<span class="text-blue-300">buffer</span>, <span class="text-green-300">"Vector(%.1f, %.1f)"</span>, <span class="text-blue-300">self</span>-><span class="text-blue-300">x</span>, <span class="text-blue-300">self</span>-><span class="text-blue-300">y</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 析构函数（模拟__del__）</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">vector_destroy</span>(<span class="text-blue-300">Vector</span> *<span class="text-blue-300">v</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">v</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用示例</span><br>
                                <span class="text-blue-300">Vector</span> *<span class="text-blue-300">v1</span> = <span class="text-blue-300">vector_create</span>(<span class="text-yellow-300">1.0</span>, <span class="text-yellow-300">2.0</span>);<br>
                                <span class="text-blue-300">Vector</span> *<span class="text-blue-300">v2</span> = <span class="text-blue-300">vector_create</span>(<span class="text-yellow-300">3.0</span>, <span class="text-yellow-300">4.0</span>);<br>
                                <span class="text-blue-300">Vector</span> *<span class="text-blue-300">v3</span> = <span class="text-blue-300">v1</span>-><span class="text-blue-300">add</span>(<span class="text-blue-300">v1</span>, <span class="text-blue-300">v2</span>);<br>
                                <br>
                                <span class="text-blue-400">char</span> <span class="text-blue-300">str</span>[<span class="text-yellow-300">50</span>];<br>
                                <span class="text-blue-300">v3</span>-><span class="text-blue-300">to_string</span>(<span class="text-blue-300">v3</span>, <span class="text-blue-300">str</span>);<br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"%s\n"</span>, <span class="text-blue-300">str</span>); <span class="text-slate-500">// 输出：Vector(4.0, 6.0)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 19. 模块和包 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">19. 模块和包</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 模块化编程</h4>
                        <p class="text-slate-300 mb-4">特点：支持模块导入，支持包管理，支持相对导入和绝对导入，支持__init__.py文件，支持__all__列表控制导入。注意事项：模块名使用小写字母，包是包含__init__.py文件的目录。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 模块和包</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400"># 导入模块</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">math</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">math</span>.<span class="text-blue-300">sqrt</span>(<span class="text-yellow-300">16</span>)) <span class="text-slate-500"># 输出4.0</span><br>
                                <br>
                                <span class="text-blue-400"># 导入模块中的特定函数</span><br>
                                <span class="text-purple-400">from</span> <span class="text-blue-300">math</span> <span class="text-purple-400">import</span> <span class="text-blue-300">pi</span>, <span class="text-blue-300">sin</span><br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">pi</span>) <span class="text-slate-500"># 输出3.141592653589793</span><br>
                                <br>
                                <span class="text-blue-400"># 导入整个模块并起别名</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">numpy</span> <span class="text-purple-400">as</span> <span class="text-blue-300">np</span>
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 头文件实现模块化</h4>
                        <p class="text-slate-300 mb-4">特点：使用头文件(.h)和源文件(.c)分离实现模块化，使用#include包含头文件，使用static控制函数可见性，使用extern声明外部符号。C99支持复合字面量。注意事项：头文件包含保护，避免循环包含，注意符号可见性。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// math_utils.h - 头文件定义</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 头文件包含保护</span><br>
                                <span class="text-purple-400">#ifndef</span> <span class="text-blue-300">MATH_UTILS_H</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">MATH_UTILS_H</span><br>
                                <br>
                                <span class="text-blue-400">// 函数声明</span><br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">add</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>);<br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">multiply</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>);<br>
                                <br>
                                <span class="text-blue-400">// 外部变量声明</span><br>
                                <span class="text-purple-400">extern</span> <span class="text-blue-400">int</span> <span class="text-blue-300">operation_count</span>;<br>
                                <br>
                                <span class="text-purple-400">#endif</span> <span class="text-slate-500">// MATH_UTILS_H</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 源文件实现</h4>
                        <p class="text-slate-300 mb-4">特点：源文件包含函数实现，使用static函数限制作用域，全局变量初始化，模块内函数互访。注意事项：static函数只在当前文件可见，全局变量避免命名冲突。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// math_utils.c - 源文件实现</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">"math_utils.h"</span><br>
                                <br>
                                <span class="text-blue-400">// 全局变量</span><br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">operation_count</span> = <span class="text-yellow-300">0</span>;<br>
                                <br>
                                <span class="text-blue-400">// 私有函数（static）</span><br>
                                <span class="text-purple-400">static</span> <span class="text-purple-400">void</span> <span class="text-blue-300">increment_counter</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">operation_count</span>++;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 公共函数实现</span><br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">add</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">increment_counter</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">multiply</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">increment_counter</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> * <span class="text-blue-300">b</span>;<br>
                                }
                            </div>
                        </div>
                    </div>

                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 使用模块</h4>
                        <p class="text-slate-300 mb-4">特点：编译时链接多个源文件，包含多个头文件，调用模块函数，访问外部变量。注意事项：确保函数声明和定义一致，注意链接顺序，管理依赖关系。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// main.c - 主程序</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">"math_utils.h"</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">double</span> <span class="text-blue-300">result1</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">3.0</span>, <span class="text-yellow-300">4.0</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">double</span> <span class="text-blue-300">result2</span> = <span class="text-blue-300">multiply</span>(<span class="text-yellow-300">2.0</span>, <span class="text-yellow-300">5.0</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"3.0 + 4.0 = %.1f\n"</span>, <span class="text-blue-300">result1</span>); <span class="text-slate-500">// 输出：3.0 + 4.0 = 7.0</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"2.0 * 5.0 = %.1f\n"</span>, <span class="text-blue-300">result2</span>); <span class="text-slate-500">// 输出：2.0 * 5.0 = 10.0</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"操作次数: %d\n"</span>, <span class="text-blue-300">operation_count</span>); <span class="text-slate-500">// 输出：操作次数: 2</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 编译命令</span><br>
                                <span class="text-slate-500">// gcc -o program main.c math_utils.c</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 20. 异常处理 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">20. 异常处理</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 完善的异常处理机制</h4>
                        <p class="text-slate-300 mb-4">特点：支持try-except块捕获异常，支持except捕获特定异常，支持finally块清理资源，支持else块处理正常情况，支持raise抛出异常。注意事项：尽量捕获特定异常，避免捕获所有异常，使用finally确保资源释放。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 异常处理</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">try</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;num</span> = <span class="text-yellow-300">10</span> / <span class="text-yellow-300">0</span><br>
                                <span class="text-purple-400">except</span> <span class="text-blue-300">ZeroDivisionError</span> <span class="text-purple-400">as</span> <span class="text-blue-300">e</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"除零错误: {e}"</span>)<br>
                                <span class="text-purple-400">except</span> <span class="text-blue-300">Exception</span> <span class="text-purple-400">as</span> <span class="text-blue-300">e</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"其他错误: {e}"</span>)<br>
                                <span class="text-purple-400">finally</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"不管是否发生异常，都会执行这里"</span>)
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 错误代码处理</h4>
                        <p class="text-slate-300 mb-4">特点：C语言无内置异常处理，使用错误代码返回，使用goto进行错误清理，使用errno全局变量，使用assert进行调试。注意事项：检查所有函数返回值，优先使用错误代码而非goto，确保资源释放。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 错误代码处理方式</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;errno.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 错误代码定义</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">ERROR_NONE</span> <span class="text-yellow-300">0</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">ERROR_DIVISION_BY_ZERO</span> <span class="text-yellow-300">1</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">ERROR_MEMORY</span> <span class="text-yellow-300">2</span><br>
                                <br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">safe_divide</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>, <span class="text-blue-400">int</span> *<span class="text-blue-300">error_code</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">b</span> == <span class="text-yellow-300">0.0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">*error_code</span> = <span class="text-blue-300">ERROR_DIVISION_BY_ZERO</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0.0</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">*error_code</span> = <span class="text-blue-300">ERROR_NONE</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> / <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">error</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">safe_divide</span>(<span class="text-yellow-300">10.0</span>, <span class="text-yellow-300">0.0</span>, &<span class="text-blue-300">error</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">error</span> == <span class="text-blue-300">ERROR_DIVISION_BY_ZERO</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"除零错误\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>} <span class="text-purple-400">else</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"结果: %.1f\n"</span>, <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - setjmp/longjmp模拟异常</h4>
                        <p class="text-slate-300 mb-4">特点：使用setjmp保存执行环境，使用longjmp跳转到保存点，支持嵌套异常处理，类似try-catch机制。C99支持可变参数宏。注意事项：不要在信号处理程序中使用，变量可能失效，慎用longjmp。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// setjmp/longjmp实现异常处理</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;setjmp.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 异常类型枚举</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">enum</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">EXCEPTION_NONE</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">EXCEPTION_DIVISION</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">EXCEPTION_MEMORY</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>} <span class="text-blue-300">ExceptionType</span>;<br>
                                <br>
                                <span class="text-blue-400">// 异常处理上下文</span><br>
                                <span class="text-purple-400">static</span> <span class="text-blue-300">jmp_buf</span> <span class="text-blue-300">exception_buffer</span>;<br>
                                <span class="text-purple-400">static</span> <span class="text-blue-300">ExceptionType</span> <span class="text-blue-300">current_exception</span> = <span class="text-blue-300">EXCEPTION_NONE</span>;<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">throw_exception</span>(<span class="text-blue-300">ExceptionType</span> <span class="text-blue-300">type</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">current_exception</span> = <span class="text-blue-300">type</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">longjmp</span>(<span class="text-blue-300">exception_buffer</span>, <span class="text-yellow-300">1</span>);<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">divide_with_check</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">b</span> == <span class="text-yellow-300">0.0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">throw_exception</span>(<span class="text-blue-300">EXCEPTION_DIVISION</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> / <span class="text-blue-300">b</span>;<br>
                                }
                            </div>
                        </div>
                    </div>

                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 异常处理使用示例</h4>
                        <p class="text-slate-300 mb-4">特点：使用setjmp进入异常处理，使用longjmp抛出异常，使用switch处理不同异常，模拟try-catch-finally。注意事项：变量在longjmp后可能失效，使用静态或全局变量保存状态。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 异常处理使用示例</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">double</span> <span class="text-blue-300">result</span> = <span class="text-yellow-300">0</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">has_exception</span> = <span class="text-yellow-300">0</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 模拟try块</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">setjmp</span>(<span class="text-blue-300">exception_buffer</span>) == <span class="text-yellow-300">0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 正常执行代码</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">result</span> = <span class="text-blue-300">divide_with_check</span>(<span class="text-yellow-300">10.0</span>, <span class="text-yellow-300">0.0</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>} <span class="text-purple-400">else</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 异常处理代码</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">has_exception</span> = <span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 模拟finally块</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">has_exception</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">switch</span> (<span class="text-blue-300">current_exception</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">case</span> <span class="text-blue-300">EXCEPTION_DIVISION</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"捕获到除零异常\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">break</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">default</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"未知异常\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">break</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>} <span class="text-purple-400">else</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"计算结果: %.1f\n"</span>, <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"清理完成\n"</span>); <span class="text-slate-500">// 类似finally块</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 21. 文件操作 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">21. 文件操作</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 简洁的文件操作</h4>
                        <p class="text-slate-300 mb-4">特点：支持open()函数打开文件，支持with语句自动关闭文件，支持多种文件模式，支持读写文本文件和二进制文件，支持文件对象的多种方法。注意事项：使用with语句确保文件正确关闭，指定正确的文件编码。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 文件操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400"># 写入文件</span><br>
                                <span class="text-purple-400">with</span> <span class="text-purple-400">open</span>(<span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"w"</span>, <span class="text-blue-300">encoding</span>=<span class="text-green-300">"utf-8"</span>) <span class="text-purple-400">as</span> <span class="text-blue-300">f</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;f.write("Hello, World!\n")<br>
                                f.write("你好，世界！\n")</span><br>
                                <br>
                                <span class="text-blue-400"># 读取文件</span><br>
                                <span class="text-purple-400">with</span> <span class="text-purple-400">open</span>(<span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"r"</span>, <span class="text-blue-300">encoding</span>=<span class="text-green-300">"utf-8"</span>) <span class="text-purple-400">as</span> <span class="text-blue-300">f</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;content</span> = <span class="text-blue-300">f</span>.<span class="text-blue-300">read</span>()<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">content</span>)
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 文件指针操作</h4>
                        <p class="text-slate-300 mb-4">特点：使用fopen()打开文件，使用fclose()关闭文件，使用fprintf()和fscanf()读写，使用fread()和fwrite()处理二进制文件。C99支持可变参数宏。注意事项：检查文件是否成功打开，务必关闭文件，注意缓冲区刷新。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 文本文件操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 写入文件</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FILE</span> *<span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"w"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file</span> == <span class="text-purple-400">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"无法打开文件\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fprintf</span>(<span class="text-blue-300">file</span>, <span class="text-green-300">"Hello, World!\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fprintf</span>(<span class="text-blue-300">file</span>, <span class="text-green-300">"你好，世界！\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 读取文件</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"r"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file</span> == <span class="text-purple-400">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"无法打开文件\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">buffer</span>[<span class="text-yellow-300">256</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">fgets</span>(<span class="text-blue-300">buffer</span>, <span class="text-yellow-300">256</span>, <span class="text-blue-300">file</span>) != <span class="text-purple-400">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"%s"</span>, <span class="text-blue-300">buffer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 二进制文件操作</h4>
                        <p class="text-slate-300 mb-4">特点：使用"rb"和"wb"模式读写二进制文件，使用fread()和fwrite()函数，支持结构体直接写入文件。C99支持复合字面量。注意事项：二进制文件不能直接用文本编辑器查看，注意字节序和对齐问题。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 二进制文件操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">// 定义数据结构</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">id</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-300">50</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">double</span> <span class="text-blue-300">score</span>;<br>
                                } <span class="text-blue-300">Student</span>;<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 写入二进制文件</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FILE</span> *<span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"students.dat"</span>, <span class="text-green-300">"wb"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file</span> == <span class="text-purple-400">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Student</span> <span class="text-blue-300">students</span>[] = {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span class="text-yellow-300">1</span>, <span class="text-green-300">"张三"</span>, <span class="text-yellow-300">95.5</span>},<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{<span class="text-yellow-300">2</span>, <span class="text-green-300">"李四"</span>, <span class="text-yellow-300">87.0</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>};<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">count</span> = <span class="text-blue-300">sizeof</span>(<span class="text-blue-300">students</span>) / <span class="text-blue-300">sizeof</span>(<span class="text-blue-300">students</span>[<span class="text-yellow-300">0</span>]);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fwrite</span>(<span class="text-blue-300">students</span>, <span class="text-blue-300">sizeof</span>(<span class="text-blue-300">Student</span>), <span class="text-blue-300">count</span>, <span class="text-blue-300">file</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file</span>);
                            </div>
                        </div>
                    </div>

                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 读取二进制文件</h4>
                        <p class="text-slate-300 mb-4">特点：使用fread()读取二进制数据，使用feof()检查文件结束，使用fseek()定位文件指针，支持随机访问。C99支持可变参数宏。注意事项：检查返回值确认读取成功，使用feof()判断是否到达文件末尾。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 读取二进制文件</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 读取二进制文件</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FILE</span> *<span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"students.dat"</span>, <span class="text-green-300">"rb"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file</span> == <span class="text-purple-400">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Student</span> <span class="text-blue-300">student</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">read_count</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> ((<span class="text-blue-300">read_count</span> = <span class="text-blue-300">fread</span>(&<span class="text-blue-300">student</span>, <span class="text-blue-300">sizeof</span>(<span class="text-blue-300">Student</span>), <span class="text-yellow-300">1</span>, <span class="text-blue-300">file</span>)) > <span class="text-yellow-300">0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"学号: %d, 姓名: %s, 分数: %.1f\n"</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">student</span>.<span class="text-blue-300">id</span>, <span class="text-blue-300">student</span>.<span class="text-blue-300">name</span>, <span class="text-blue-300">student</span>.<span class="text-blue-300">score</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 文件定位示例</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"students.dat"</span>, <span class="text-green-300">"rb"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 定位到第二个学生记录</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fseek</span>(<span class="text-blue-300">file</span>, <span class="text-blue-300">sizeof</span>(<span class="text-blue-300">Student</span>), <span class="text-blue-300">SEEK_SET</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fread</span>(&<span class="text-blue-300">student</span>, <span class="text-blue-300">sizeof</span>(<span class="text-blue-300">Student</span>), <span class="text-yellow-300">1</span>, <span class="text-blue-300">file</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"第二个学生: %s\n"</span>, <span class="text-blue-300">student</span>.<span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <!-- 22. 生成器 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">22. 生成器</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 高效的生成器</h4>
                        <p class="text-slate-300 mb-4">特点：使用yield关键字创建生成器，支持延迟计算，支持迭代协议，支持生成器表达式，节省内存空间。注意事项：生成器只能遍历一次，使用next()函数获取下一个值，使用send()方法向生成器发送值。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 生成器</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">def</span> <span class="text-blue-300">count_up</span>(<span class="text-blue-300">n</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;for</span> <span class="text-blue-300">i</span> <span class="text-green-300">in</span> <span class="text-purple-400">range</span>(<span class="text-blue-300">n</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield</span> <span class="text-blue-300">i</span>
                                <br>
                                <span class="text-blue-300"># 使用生成器</span><br>
                                <span class="text-blue-300">counter</span> = <span class="text-blue-300">count_up</span>(<span class="text-yellow-300">5</span>)<br>
                                <span class="text-blue-300">for</span> <span class="text-blue-300">num</span> <span class="text-green-300">in</span> <span class="text-blue-300">counter</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">num</span>)<br>
                                <br>
                                <span class="text-blue-400"># 生成器表达式</span><br>
                                <span class="text-blue-300">squares</span> = (<span class="text-blue-300">x</span>**<span class="text-yellow-300">2</span> <span class="text-purple-400">for</span> <span class="text-blue-300">x</span> <span class="text-green-300">in</span> <span class="text-purple-400">range</span>(<span class="text-yellow-300">5</span>))<br>
                                <span class="text-blue-300">print</span>(<span class="text-purple-400">list</span>(<span class="text-blue-300">squares</span>)) <span class="text-slate-500"># 输出：[0, 1, 4, 9, 16]</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 函数指针和状态机模拟生成器</h4>
                        <p class="text-slate-300 mb-4">特点：使用静态变量保持状态，使用函数指针模拟迭代器，使用状态机模式，支持回调机制。C99支持复合字面量，GNU C支持语句表达式。注意事项：静态变量在函数调用间保持值，注意线程安全问题，使用回调函数处理生成的值。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用静态变量的生成器模拟</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdbool.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 生成器状态结构</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">current</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">max</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">bool</span> <span class="text-blue-300">finished</span>;<br>
                                } <span class="text-blue-300">Generator</span>;<br>
                                <br>
                                <span class="text-blue-400">// 创建生成器</span><br>
                                <span class="text-blue-300">Generator</span>* <span class="text-blue-300">create_generator</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">max</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Generator</span>* <span class="text-blue-300">gen</span> = (<span class="text-blue-300">Generator</span>*)<span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Generator</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">gen</span>-><span class="text-blue-300">current</span> = <span class="text-yellow-300">0</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">gen</span>-><span class="text-blue-300">max</span> = <span class="text-blue-300">max</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">gen</span>-><span class="text-blue-300">finished</span> = <span class="text-purple-400">false</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">gen</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 获取下一个值</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">generator_next</span>(<span class="text-blue-300">Generator</span>* <span class="text-blue-300">gen</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">gen</span>-><span class="text-blue-300">current</span> >= <span class="text-blue-300">gen</span>-><span class="text-blue-300">max</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">gen</span>-><span class="text-blue-300">finished</span> = <span class="text-purple-400">true</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">-1</span>; <span class="text-slate-500">// 表示结束</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">gen</span>-><span class="text-blue-300">current</span>++;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用生成器</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Generator</span>* <span class="text-blue-300">counter</span> = <span class="text-blue-300">create_generator</span>(<span class="text-yellow-300">5</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">value</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> ((<span class="text-blue-300">value</span> = <span class="text-blue-300">generator_next</span>(<span class="text-blue-300">counter</span>)) != <span class="text-yellow-300">-1</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">value</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">counter</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// 使用宏定义的生成器风格代码</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 斐波那契生成器宏</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">FIBONACCI_GENERATOR</span>(<span class="text-blue-300">max</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">a</span> = <span class="text-yellow-300">0</span>, <span class="text-blue-300">b</span> = <span class="text-yellow-300">1</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> < <span class="text-blue-300">max</span>; <span class="text-blue-300">i</span>++) { \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">next</span> = <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">a</span> = <span class="text-blue-300">b</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">b</span> = <span class="text-blue-300">next</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">yield</span> <span class="text-blue-300">a</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-blue-400">// 模拟yield关键字</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">yield</span>(<span class="text-blue-300">value</span>) <span class="text-blue-300">printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">value</span>)<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"斐波那契数列:\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FIBONACCI_GENERATOR</span>(<span class="text-yellow-300">10</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 23. 迭代器 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">23. 迭代器</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 迭代器协议</h4>
                        <p class="text-slate-300 mb-4">特点：支持迭代器协议，支持__iter__()和__next__()方法，支持内置迭代函数，支持自定义迭代器，支持StopIteration异常。注意事项：迭代器只能遍历一次，使用iter()函数获取迭代器，使用next()函数获取下一个值。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 迭代器</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Counter</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__init__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">max_count</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.max_count</span> = <span class="text-blue-300">max_count</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current</span> = <span class="text-yellow-300">0</span>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__iter__</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">self</span>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__next__</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="text-blue-300">self</span>.<span class="text-blue-300">current</span> < <span class="text-blue-300">self</span>.<span class="text-blue-300">max_count</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span> = <span class="text-blue-300">self</span>.<span class="text-blue-300">current</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current</span> += <span class="text-yellow-300">1</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">result</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raise</span> <span class="text-blue-300">StopIteration</span>
                                <br>
                                <span class="text-blue-300"># 使用迭代器</span><br>
                                <span class="text-blue-300">counter</span> = <span class="text-blue-300">Counter</span>(<span class="text-yellow-300">5</span>)<br>
                                <span class="text-blue-300">for</span> <span class="text-blue-300">num</span> <span class="text-green-300">in</span> <span class="text-blue-300">counter</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">num</span>)
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 函数指针和结构体模拟迭代器</h4>
                        <p class="text-slate-300 mb-4">特点：使用结构体和函数指针模拟迭代器协议，支持has_next()和next()操作，支持自定义迭代器类型，支持迭代器适配。C99支持复合字面量。注意事项：需要手动管理内存，注意迭代器状态，注意边界条件处理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用函数指针的迭代器</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdbool.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 迭代器接口定义</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> <span class="text-blue-300">Iterator</span> <span class="text-blue-300">Iterator</span>;<br>
                                <br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">bool</span> (<span class="text-blue-300">*has_next_func</span>)(<span class="text-blue-300">Iterator</span>* <span class="text-blue-300">self</span>);<br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">void</span>* (<span class="text-blue-300">*next_func</span>)(<span class="text-blue-300">Iterator</span>* <span class="text-blue-300">self</span>);<br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">void</span> (<span class="text-blue-300">*destroy_func</span>)(<span class="text-blue-300">Iterator</span>* <span class="text-blue-300">self</span>);<br>
                                <br>
                                <span class="text-blue-400">// 迭代器结构</span><br>
                                <span class="text-purple-400">struct</span> <span class="text-blue-300">Iterator</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">has_next_func</span> <span class="text-blue-300">has_next</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">next_func</span> <span class="text-blue-300">next</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">destroy_func</span> <span class="text-blue-300">destroy</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">void</span>* <span class="text-blue-300">data</span>; <span class="text-slate-500">// 迭代器内部数据</span><br>
                                };<br>
                                <br>
                                <span class="text-blue-400">// 计数器迭代器实现</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">current</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">max</span>;<br>
                                } <span class="text-blue-300">CounterIterator</span>;<br>
                                <br>
                                <span class="text-purple-400">bool</span> <span class="text-blue-300">counter_has_next</span>(<span class="text-blue-300">Iterator</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">CounterIterator</span>* <span class="text-blue-300">counter</span> = (<span class="text-blue-300">CounterIterator</span>*)<span class="text-blue-300">self</span>-><span class="text-blue-300">data</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">counter</span>-><span class="text-blue-300">current</span> < <span class="text-blue-300">counter</span>-><span class="text-blue-300">max</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">void</span>* <span class="text-blue-300">counter_next</span>(<span class="text-blue-300">Iterator</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">CounterIterator</span>* <span class="text-blue-300">counter</span> = (<span class="text-blue-300">CounterIterator</span>*)<span class="text-blue-300">self</span>-><span class="text-blue-300">data</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> (<span class="text-purple-400">int</span>*)&<span class="text-blue-300">counter</span>-><span class="text-blue-300">current</span>++)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 注意：这里返回的是当前值的副本</span><br>
                                }<br>
                                <br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">counter_destroy</span>(<span class="text-blue-300">Iterator</span>* <span class="text-blue-300">self</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">self</span>-><span class="text-blue-300">data</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">self</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 创建计数器迭代器</span><br>
                                <span class="text-blue-300">Iterator</span>* <span class="text-blue-300">create_counter_iterator</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">max</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">CounterIterator</span>* <span class="text-blue-300">counter_data</span> = (<span class="text-blue-300">CounterIterator</span>*)<span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">CounterIterator</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">counter_data</span>-><span class="text-blue-300">current</span> = <span class="text-yellow-300">0</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">counter_data</span>-><span class="text-blue-300">max</span> = <span class="text-blue-300">max</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Iterator</span>* <span class="text-blue-300">iterator</span> = (<span class="text-blue-300">Iterator</span>*)<span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Iterator</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">iterator</span>-><span class="text-blue-300">has_next</span> = <span class="text-blue-300">counter_has_next</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">iterator</span>-><span class="text-blue-300">next</span> = <span class="text-blue-300">counter_next</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">iterator</span>-><span class="text-blue-300">destroy</span> = <span class="text-blue-300">counter_destroy</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">iterator</span>-><span class="text-blue-300">data</span> = <span class="text-blue-300">counter_data</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">iterator</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 使用迭代器</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Iterator</span>* <span class="text-blue-300">counter</span> = <span class="text-blue-300">create_counter_iterator</span>(<span class="text-yellow-300">5</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">counter</span>-><span class="text-blue-300">has_next</span>(<span class="text-blue-300">counter</span>)) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span> <span class="text-blue-300">value</span> = *((<span class="text-blue-400">int</span>*)<span class="text-blue-300">counter</span>-><span class="text-blue-300">next</span>(<span class="text-blue-300">counter</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"%d\n"</span>, <span class="text-blue-300">value</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">counter</span>-><span class="text-blue-300">destroy</span>(<span class="text-blue-300">counter</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 24. 装饰器 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">24. 装饰器</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 强大的装饰器</h4>
                        <p class="text-slate-300 mb-4">特点：使用@符号应用装饰器，支持函数装饰器，支持类装饰器，支持装饰器嵌套，支持functools.wraps保留函数元信息。注意事项：装饰器执行顺序从下到上，需要注意装饰器的嵌套顺序。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 装饰器</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">functools</span><br>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">logger</span>(<span class="text-blue-300">func</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;@functools.wraps(func)</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">wrapper</span>(<span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"调用函数: {func.__name__}"</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span> = <span class="text-blue-300">func</span>(<span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"函数返回: {result}"</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">result</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">wrapper</span>
                                <br>
                                <span class="text-purple-400">@logger</span><br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">add</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>
                                <br>
                                <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>) <span class="text-slate-500"># 输出：调用函数: add\n函数返回: 5</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 函数指针和宏模拟装饰器</h4>
                        <p class="text-slate-300 mb-4">特点：使用函数指针包装原函数，使用宏简化装饰器应用，支持预处理和后处理，支持多层装饰。C99支持内联函数，GNU C支持typeof关键字。注意事项：注意函数指针的生命周期，宏参数需要正确加括号，注意类型安全。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用函数指针的装饰器模式</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 装饰器结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> (<span class="text-blue-300">*func</span>)(<span class="text-purple-400">int</span>, <span class="text-purple-400">int</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-50">50</span>];<br>
                                } <span class="text-blue-300">DecoratedFunc</span>;<br>
                                <br>
                                <span class="text-blue-400">// 原函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">add</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 装饰器函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">logged_add</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"调用函数: add(%d, %d)\n"</span>, <span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"函数返回: %d\n"</span>, <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">result</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 创建装饰器</span><br>
                                <span class="text-blue-300">DecoratedFunc</span>* <span class="text-blue-300">create_decorator</span>(<span class="text-purple-400">int</span> (<span class="text-blue-300">*func</span>)(<span class="text-purple-400">int</span>, <span class="text-purple-400">int</span>), <span class="text-blue-400">const</span> <span class="text-blue-400">char</span>* <span class="text-blue-300">name</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">DecoratedFunc</span>* <span class="text-blue-300">decorated</span> = (<span class="text-blue-300">DecoratedFunc</span>*)<span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">DecoratedFunc</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">decorated</span>-><span class="text-blue-300">func</span> = <span class="text-blue-300">func</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">decorated</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">decorated</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 调用装饰函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">call_decorated</span>(<span class="text-blue-300">DecoratedFunc</span>* <span class="text-blue-300">decorated</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"使用装饰器: %s\n"</span>, <span class="text-blue-300">decorated</span>-><span class="text-blue-300">name</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">decorated</span>-><span class="text-blue-300">func</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>);<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">DecoratedFunc</span>* <span class="text-blue-300">logger_add</span> = <span class="text-blue-300">create_decorator</span>(<span class="text-blue-300">logged_add</span>, <span class="text-green-300">"Logger装饰器"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">call_decorated</span>(<span class="text-blue-300">logger_add</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">logger_add</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// 使用宏的装饰器风格代码</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 宏定义的装饰器</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">DECORATOR_LOG</span>(<span class="text-blue-300">func_name</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">func_name</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) { \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"调用" #func_name "(%d, %d)\n"</span>, <span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>); \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">_##func_name</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>); \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"返回: %d\n"</span>, <span class="text-blue-300">result</span>); \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">result</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-blue-400">// 原始函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">_add</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 应用装饰器</span><br>
                                <span class="text-blue-300">DECORATOR_LOG</span>(<span class="text-blue-300">add</span>)<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 25. 上下文管理器 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">25. 上下文管理器</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 安全的上下文管理器</h4>
                        <p class="text-slate-300 mb-4">特点：使用with语句管理资源，支持__enter__()和__exit__()方法，支持contextlib模块简化上下文管理器创建，支持嵌套上下文管理器。注意事项：确保资源正确释放，避免资源泄漏，使用try-finally确保资源释放。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 上下文管理器</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">class</span> <span class="text-blue-300">FileManager</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__init__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">filename</span>, <span class="text-blue-300">mode</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.filename</span> = <span class="text-blue-300">filename</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.mode</span> = <span class="text-blue-300">mode</span>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__enter__</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file</span> = <span class="text-purple-400">open</span>(<span class="text-blue-300">self</span>.<span class="text-blue-300">filename</span>, <span class="text-blue-300">self</span>.<span class="text-blue-300">mode</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">self</span>.<span class="text-blue-300">file</span>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__exit__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">exc_type</span>, <span class="text-blue-300">exc_val</span>, <span class="text-blue-300">exc_tb</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file</span>.<span class="text-blue-300">close</span>()
                                <br>
                                <span class="text-blue-400"># 使用上下文管理器</span><br>
                                <span class="text-purple-400">with</span> <span class="text-blue-300">FileManager</span>(<span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"w"</span>) <span class="text-purple-400">as</span> <span class="text-blue-300">f</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;f.write("Hello, Context Manager!\n")</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 手动资源管理模拟上下文管理器</h4>
                        <p class="text-slate-300 mb-4">特点：使用结构体和函数指针模拟上下文管理器，使用初始化和清理函数管理资源，支持RAII模式，使用宏简化资源管理。注意事项：C语言没有内置的上下文管理器，需要手动管理资源生命周期，注意错误处理和资源清理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用结构体和函数模拟上下文管理器</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 上下文管理器结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">FILE</span>* <span class="text-blue-300">file</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">filename</span>[<span class="text-yellow-50">100</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span> <span class="text-blue-300">mode</span>[<span class="text-yellow-50">10</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">(*cleanup)</span>(<span class="text-purple-400">struct</span> <span class="text-blue-300">FileContext</span>* <span class="text-blue-300">ctx</span>);<br>
                                } <span class="text-blue-300">FileContext</span>;<br>
                                <br>
                                <span class="text-blue-400">// 初始化上下文管理器</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">file_context_init</span>(<span class="text-blue-300">FileContext</span>* <span class="text-blue-300">ctx</span>, <span class="text-blue-400">const</span> <span class="text-blue-400">char</span>* <span class="text-blue-300">filename</span>, <span class="text-blue-400">const</span> <span class="text-blue-400">char</span>* <span class="text-blue-300">mode</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">ctx</span>-><span class="text-blue-300">filename</span>, <span class="text-blue-300">filename</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">strcpy</span>(<span class="text-blue-300">ctx</span>-><span class="text-blue-300">mode</span>, <span class="text-blue-300">mode</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">ctx</span>-><span class="text-blue-300">file</span> = <span class="text-blue-300">fopen</span>(<span class="text-blue-300">filename</span>, <span class="text-blue-300">mode</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">ctx</span>-><span class="text-blue-300">file</span> == <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> -<span class="text-yellow-300">1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">ctx</span>-><span class="text-blue-300">cleanup</span> = <span class="text-blue-300">file_context_cleanup</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 清理函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">file_context_cleanup</span>(<span class="text-blue-300">FileContext</span>* <span class="text-blue-300">ctx</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">ctx</span>-><span class="text-blue-300">file</span> != <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">ctx</span>-><span class="text-blue-300">file</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">ctx</span>-><span class="text-blue-300">file</span> = <span class="text-purple-300">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// RAII风格的宏</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">FILE_CONTEXT_BEGIN</span>(<span class="text-blue-300">ctx</span>, <span class="text-blue-300">filename</span>, <span class="text-blue-300">mode</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FileContext</span> <span class="text-blue-300">ctx</span>; \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file_context_init</span>(&amp;<span class="text-blue-300">ctx</span>, <span class="text-blue-300">filename</span>, <span class="text-blue-300">mode</span>) == <span class="text-yellow-300">0</span> &amp;&amp;<br>
                                <br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">FILE_CONTEXT_END</span>(<span class="text-blue-300">ctx</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">ctx</span>.<span class="text-blue-300">cleanup</span>(&amp;<span class="text-blue-300">ctx</span>)<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用RAII宏</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">FILE_CONTEXT_BEGIN</span>(<span class="text-blue-300">ctx</span>, <span class="text-green-300">"test.txt"</span>, <span class="text-green-300">"w"</span>)) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fprintf</span>(<span class="text-blue-300">ctx</span>.<span class="text-blue-300">file</span>, <span class="text-green-300">"Hello, Context Manager!\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FILE_CONTEXT_END</span>(<span class="text-blue-300">ctx</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 手动使用上下文管理器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">FileContext</span> <span class="text-blue-300">ctx2</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file_context_init</span>(&amp;<span class="text-blue-300">ctx2</span>, <span class="text-green-300">"test2.txt"</span>, <span class="text-green-300">"w"</span>) == <span class="text-yellow-300">0</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fprintf</span>(<span class="text-blue-300">ctx2</span>.<span class="text-blue-300">file</span>, <span class="text-green-300">"Manual context management\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">ctx2</span>.<span class="text-blue-300">cleanup</span>(&amp;<span class="text-blue-300">ctx2</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// 使用goto进行错误处理的上下文管理器</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">process_with_cleanup</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">FILE</span>* <span class="text-blue-300">file1</span> = <span class="text-purple-300">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">FILE</span>* <span class="text-blue-300">file2</span> = <span class="text-purple-300">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">int</span>* <span class="text-blue-300">data</span> = <span class="text-purple-300">NULL</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 初始化资源</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file1</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"input.txt"</span>, <span class="text-green-300">"r"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file1</span> == <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">goto</span> <span class="text-blue-300">cleanup</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">file2</span> = <span class="text-blue-300">fopen</span>(<span class="text-green-300">"output.txt"</span>, <span class="text-green-300">"w"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file2</span> == <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">goto</span> <span class="text-blue-300">cleanup</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">data</span> = (<span class="text-blue-400">int</span>*)<span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-400">int</span>) * <span class="text-yellow-300">100</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">data</span> == <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">goto</span> <span class="text-blue-300">cleanup</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 处理逻辑</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"处理文件...\n"</span>);<br>
                                <br>
                                <span class="text-blue-300">cleanup</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 清理资源（按照相反的顺序）</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">data</span> != <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">free</span>(<span class="text-blue-300">data</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file2</span> != <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file2</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">file1</span> != <span class="text-purple-300">NULL</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fclose</span>(<span class="text-blue-300">file1</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 26. 类型注解 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">26. 类型注解</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 类型注解</h4>
                        <p class="text-slate-300 mb-4">特点：支持变量类型注解，支持函数参数类型注解，支持函数返回值类型注解，支持类型别名，支持泛型，支持Union类型。注意事项：类型注解是可选的，使用typing模块提供的类型，需要Python 3.5+支持。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 类型注解</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-300">from</span> <span class="text-blue-300">typing</span> <span class="text-purple-400">import</span> <span class="text-blue-300">List</span>, <span class="text-blue-300">Dict</span>, <span class="text-blue-300">Union</span>
                                <br>
                                <span class="text-blue-400"># 变量类型注解</span><br>
                                <span class="text-blue-300">name</span>: <span class="text-purple-400">str</span> = <span class="text-green-300">"张三"</span><br>
                                <span class="text-blue-300">age</span>: <span class="text-purple-400">int</span> = <span class="text-yellow-300">18</span>
                                <br>
                                <span class="text-blue-400"># 函数类型注解</span><br>
                                <span class="text-blue-300">def</span> <span class="text-blue-300">add</span>(<span class="text-blue-300">a</span>: <span class="text-purple-400">int</span>, <span class="text-blue-300">b</span>: <span class="text-purple-400">int</span>) -> <span class="text-purple-400">int</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>
                                <br>
                                <span class="text-blue-400"># 泛型类型注解</span><br>
                                <span class="text-blue-300">numbers</span>: <span class="text-blue-300">List</span>[<span class="text-purple-400">int</span>] = [<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>]
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 静态类型系统和类型注解</h4>
                        <p class="text-slate-300 mb-4">特点：变量声明本身就是类型注解，函数声明包含参数和返回类型，C99支持可变参数宏，C11支持_Generic选择器，支持typedef类型别名，支持结构体和联合体类型。注意事项：C语言是静态类型，类型检查在编译时进行，类型转换需要显式进行，C11的_Generic可用于类型安全的选择。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// C语言类型注解基础</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 类型别名定义</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">int</span> <span class="text-blue-300">Integer</span>;<br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">String</span>;<br>
                                <br>
                                <span class="text-blue-400">// 结构体类型定义</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">id</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">String</span> <span class="text-blue-300">name</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">float</span> <span class="text-blue-300">score</span>;<br>
                                } <span class="text-blue-300">Student</span>;<br>
                                <br>
                                <span class="text-blue-400">// 函数类型注解（参数和返回值类型）</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">calculate_sum</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-300">Student</span>* <span class="text-blue-300">create_student</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">id</span>, <span class="text-blue-300">String</span> <span class="text-blue-300">name</span>, <span class="text-purple-400">float</span> <span class="text-blue-300">score</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Student</span>* <span class="text-blue-300">student</span> = (<span class="text-blue-300">Student</span>*)<span class="text-blue-300">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">Student</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">student</span>-><span class="text-blue-300">id</span> = <span class="text-blue-300">id</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">student</span>-><span class="text-blue-300">name</span> = <span class="text-blue-300">name</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">student</span>-><span class="text-blue-300">score</span> = <span class="text-blue-300">score</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">student</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">print_student</span>(<span class="text-blue-300">Student</span>* <span class="text-blue-300">student</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"Student: %d, %s, %.2f\n"</span>, <span class="text-blue-300">student</span>-><span class="text-blue-300">id</span>, <span class="text-blue-300">student</span>-><span class="text-blue-300">name</span>, <span class="text-blue-300">student</span>-><span class="text-blue-300">score</span>);<br>
                                }
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// C11 _Generic类型选择器</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 使用_Generic进行类型选择（C11特性）</span><br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">PRINT_TYPE</span>(<span class="text-blue-300">x</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>_Generic((<span class="text-blue-300">x</span>, \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span>: <span class="text-green-300">"整数"</span>, \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">float</span>: <span class="text-green-300">"浮点数"</span>, \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span>*: <span class="text-green-300">"字符串"</span>, \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">default</span>: <span class="text-green-300">"未知类型"</span>))<br>
                                <br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">PRINT_VALUE_AND_TYPE</span>(<span class="text-blue-300">x</span>) \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"值: "</span>); \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>_Generic((<span class="text-blue-300">x</span>, \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span>: <span class="text-blue-300">printf</span>(<span class="text-green-300">"%d"</span>, <span class="text-blue-300">x</span>), \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">float</span>: <span class="text-blue-300">printf</span>(<span class="text-green-300">"%.2f"</span>, <span class="text-blue-300">x</span>), \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span>*: <span class="text-blue-300">printf</span>(<span class="text-green-300">"%s"</span>, <span class="text-blue-300">x</span>), \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">default</span>: <span class="text-blue-300">printf</span>(<span class="text-green-300">"未知类型"</span>)); \<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">", 类型: %s\n"</span>, <span class="text-blue-300">PRINT_TYPE</span>(<span class="text-blue-300">x</span>));<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">num</span> = <span class="text-yellow-300">42</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">float</span> <span class="text-blue-300">pi</span> = <span class="text-yellow-300">3.14159</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">char</span>* <span class="text-blue-300">str</span> = <span class="text-green-300">"Hello"</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_VALUE_AND_TYPE</span>(<span class="text-blue-300">num</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_VALUE_AND_TYPE</span>(<span class="text-blue-300">pi</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_VALUE_AND_TYPE</span>(<span class="text-blue-300">str</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 27. 正则表达式 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">27. 正则表达式</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 强大的正则表达式</h4>
                        <p class="text-slate-300 mb-4">特点：使用re模块支持正则表达式，支持多种正则表达式方法，支持正则表达式标志，支持分组捕获，支持贪婪和非贪婪匹配。注意事项：正则表达式是字符串，需要注意转义字符，使用原始字符串（r""）避免转义。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 正则表达式</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">re</span>
                                <br>
                                <span class="text-blue-300">text</span> = <span class="text-green-300">"我的邮箱是: example@example.com, 电话是: 13800138000"</span>
                                <br>
                                <span class="text-blue-400"># 匹配邮箱</span><br>
                                <span class="text-blue-300">email_pattern</span> = <span class="text-green-300">r'[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}'</span><br>
                                <span class="text-blue-300">emails</span> = <span class="text-blue-300">re</span>.<span class="text-blue-300">findall</span>(<span class="text-blue-300">email_pattern</span>, <span class="text-blue-300">text</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">emails</span>) <span class="text-slate-500"># 输出：['example@example.com']</span>
                                <br>
                                <span class="text-blue-400"># 匹配电话</span><br>
                                <span class="text-blue-300">phone_pattern</span> = <span class="text-green-300">r'1[3-9]\d{9}'</span><br>
                                <span class="text-blue-300">phones</span> = <span class="text-blue-300">re</span>.<span class="text-blue-300">findall</span>(<span class="text-blue-300">phone_pattern</span>, <span class="text-blue-300">text</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">phones</span>) <span class="text-slate-500"># 输出：['13800138000']</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 28. 日期和时间 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">28. 日期和时间</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 日期和时间处理</h4>
                        <p class="text-slate-300 mb-4">特点：使用datetime模块处理日期和时间，支持日期和时间的创建，支持日期和时间的格式化，支持日期和时间的计算，支持时区处理。注意事项：datetime对象是不可变的，使用strftime()格式化日期，使用strptime()解析日期字符串。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 日期和时间</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">from</span> <span class="text-blue-300">datetime</span> <span class="text-purple-400">import</span> <span class="text-blue-300">datetime</span>, <span class="text-blue-300">date</span>, <span class="text-blue-300">time</span>, <span class="text-blue-300">timedelta</span>
                                <br>
                                <span class="text-blue-400"># 获取当前日期和时间</span><br>
                                <span class="text-blue-300">now</span> = <span class="text-blue-300">datetime</span>.<span class="text-blue-300">now</span>()<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">now</span>) <span class="text-slate-500"># 输出：当前日期和时间</span>
                                <br>
                                <span class="text-blue-400"># 格式化日期和时间</span><br>
                                <span class="text-blue-300">formatted</span> = <span class="text-blue-300">now</span>.<span class="text-blue-300">strftime</span>(<span class="text-green-300">"%Y-%m-%d %H:%M:%S"</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">formatted</span>) <span class="text-slate-500"># 输出：YYYY-MM-DD HH:MM:SS</span>
                                <br>
                                <span class="text-blue-400"># 日期计算</span><br>
                                <span class="text-blue-300">tomorrow</span> = <span class="text-blue-300">date</span>.<span class="text-blue-300">today</span>() + <span class="text-blue-300">timedelta</span>(<span class="text-blue-300">days</span>=<span class="text-yellow-300">1</span>)<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">tomorrow</span>) <span class="text-slate-500"># 输出：明天的日期</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 29. 多线程 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">29. 多线程</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 多线程编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用threading模块支持多线程，支持创建线程，支持线程同步，支持线程锁，支持线程池，支持守护线程。注意事项：Python有GIL（全局解释器锁），多线程在CPU密集型任务上效率不高，适合IO密集型任务。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 多线程</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">threading</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">time</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">print_numbers</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;for</span> <span class="text-blue-300">i</span> <span class="text-green-300">in</span> <span class="text-purple-400">range</span>(<span class="text-yellow-300">5</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">i</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.5)</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">print_letters</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;for</span> <span class="text-blue-300">letter</span> <span class="text-green-300">in</span> <span class="text-green-300">"ABCDE"</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">letter</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.5)</span>
                                <br>
                                <span class="text-blue-400"># 创建线程</span><br>
                                <span class="text-blue-300">t1</span> = <span class="text-blue-300">threading</span>.<span class="text-blue-300">Thread</span>(<span class="text-blue-300">target</span>=<span class="text-blue-300">print_numbers</span>)<br>
                                <span class="text-blue-300">t2</span> = <span class="text-blue-300">threading</span>.<span class="text-blue-300">Thread</span>(<span class="text-blue-300">target</span>=<span class="text-blue-300">print_letters</span>)<br>
                                <br>
                                <span class="text-blue-400"># 启动线程</span><br>
                                <span class="text-blue-300">t1</span>.<span class="text-blue-300">start</span>()<br>
                                <span class="text-blue-300">t2</span>.<span class="text-blue-300">start</span>()<br>
                                <br>
                                <span class="text-blue-400"># 等待线程结束</span><br>
                                <span class="text-blue-300">t1</span>.<span class="text-blue-300">join</span>()<br>
                                <span class="text-blue-300">t2</span>.<span class="text-blue-300">join</span>()<br>
                                <br>
                                <span class="text-blue-300">print</span>(<span class="text-green-300">"所有线程执行完毕"</span>)
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 多线程编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用POSIX线程库（pthread）支持多线程，支持创建线程，支持线程同步，支持互斥锁，支持条件变量，支持线程属性设置，C11支持标准线程库。注意事项：C语言本身没有内置多线程，需要使用pthread库，注意线程安全，考虑使用互斥锁保护共享数据，注意死锁问题。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// POSIX线程编程</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;pthread.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 全局变量（共享数据）</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">shared_counter</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-purple-400">pthread_mutex_t</span> <span class="text-blue-300">counter_mutex</span>;  <span class="text-slate-500">// 互斥锁</span><br>
                                <br>
                                <span class="text-blue-400">// 线程函数</span><br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">print_numbers</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">thread_id</span> = *(<span class="text-purple-400">int</span>*)<span class="text-blue-300">arg</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-5"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_lock</span>(&<span class="text-blue-300">counter_mutex</span>);  <span class="text-slate-500">// 加锁</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">current</span> = <span class="text-blue-300">shared_counter</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">shared_counter</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"线程 %d: 计数器 = %d\n"</span>, <span class="text-blue-300">thread_id</span>, <span class="text-blue-300">current</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_unlock</span>(&<span class="text-blue-300">counter_mutex</span>);  <span class="text-slate-500">// 解锁</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">usleep</span>(<span class="text-yellow-100000"></span>);  <span class="text-slate-500">// 暂停0.1秒</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_t</span> <span class="text-blue-300">thread1</span>, <span class="text-blue-300">thread2</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">id1</span> = <span class="text-yellow-1"></span>, <span class="text-blue-300">id2</span> = <span class="text-yellow-2"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 初始化互斥锁</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_init</span>(&<span class="text-blue-300">counter_mutex</span>, <span class="text-purple-400">NULL</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建线程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_create</span>(&<span class="text-blue-300">thread1</span>, <span class="text-purple-400">NULL</span>, <span class="text-blue-300">print_numbers</span>, &<span class="text-blue-300">id1</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_create</span>(&<span class="text-blue-300">thread2</span>, <span class="text-purple-400">NULL</span>, <span class="text-blue-300">print_numbers</span>, &<span class="text-blue-300">id2</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 等待线程结束</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_join</span>(<span class="text-blue-300">thread1</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_join</span>(<span class="text-blue-300">thread2</span>, <span class="text-purple-400">NULL</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"所有线程执行完毕，最终计数器值: %d\n"</span>, <span class="text-blue-300">shared_counter</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 销毁互斥锁</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_destroy</span>(&<span class="text-blue-300">counter_mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// C11标准线程库（C11特性）</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;threads.h&gt;</span>  <span class="text-slate-500">// C11标准线程库</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 全局变量和互斥量</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">shared_data</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-purple-400">mtx_t</span> <span class="text-blue-300">data_mutex</span>;<br>
                                <br>
                                <span class="text-blue-400">// C11线程函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">worker_thread</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">thread_id</span> = *(<span class="text-purple-400">int</span>*)<span class="text-blue-300">arg</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-3"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">mtx_lock</span>(&<span class="text-blue-300">data_mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">shared_data</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"线程 %d: 共享数据 = %d\n"</span>, <span class="text-blue-300">thread_id</span>, <span class="text-blue-300">shared_data</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">mtx_unlock</span>(&<span class="text-blue-300">data_mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">thrd_sleep</span>(&(<span class="text-purple-400">struct</span> <span class="text-blue-300">timespec</span>){<span class="text-yellow-0"></span>, <span class="text-yellow-200000000"></span>}, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">thrd_t</span> <span class="text-blue-300">t1</span>, <span class="text-blue-300">t2</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">id1</span> = <span class="text-yellow-1"></span>, <span class="text-blue-300">id2</span> = <span class="text-yellow-2"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 初始化互斥量</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">mtx_init</span>(&<span class="text-blue-300">data_mutex</span>, <span class="text-blue-300">mtx_plain</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建线程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">thrd_create</span>(&<span class="text-blue-300">t1</span>, <span class="text-blue-300">worker_thread</span>, &<span class="text-blue-300">id1</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">thrd_create</span>(&<span class="text-blue-300">t2</span>, <span class="text-blue-300">worker_thread</span>, &<span class="text-blue-300">id2</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 等待线程结束</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">thrd_join</span>(<span class="text-blue-300">t1</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">thrd_join</span>(<span class="text-blue-300">t2</span>, <span class="text-purple-400">NULL</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"C11线程执行完毕，最终数据值: %d\n"</span>, <span class="text-blue-300">shared_data</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 销毁互斥量</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">mtx_destroy</span>(&<span class="text-blue-300">data_mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 30. 多进程 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">30. 多进程</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 多进程编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用multiprocessing模块支持多进程，支持创建进程，支持进程间通信，支持进程池，支持守护进程。注意事项：多进程可以充分利用多核CPU，适合CPU密集型任务，进程间通信需要使用特定机制。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 多进程</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">from</span> <span class="text-blue-300">multiprocessing</span> <span class="text-purple-400">import</span> <span class="text-blue-300">Process</span>, <span class="text-blue-300">Pool</span>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">time</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">square</span>(<span class="text-blue-300">n</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(0.5)</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">n</span>**<span class="text-yellow-300">2</span>
                                <br>
                                <span class="text-blue-400"># 使用进程池</span><br>
                                <span class="text-blue-300">if</span> <span class="text-blue-300">__name__</span> == <span class="text-green-300">"__main__"</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;numbers</span> = [<span class="text-yellow-300">1</span>, <span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>, <span class="text-yellow-300">4</span>, <span class="text-yellow-300">5</span>]<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;with</span> <span class="text-blue-300">Pool</span>(<span class="text-blue-300">processes</span>=<span class="text-yellow-300">3</span>) <span class="text-purple-400">as</span> <span class="text-blue-300">pool</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results</span> = <span class="text-blue-300">pool</span>.<span class="text-blue-300">map</span>(<span class="text-blue-300">square</span>, <span class="text-blue-300">numbers</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">results</span>) <span class="text-slate-500"># 输出：[1, 4, 9, 16, 25]</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 多进程编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用fork()系统调用支持多进程，支持父子进程通信，支持进程间同步，支持管道通信，支持共享内存，支持信号处理。注意事项：进程创建开销较大，适合CPU密集型任务，进程间通信需要使用特定机制，注意僵尸进程和孤儿进程问题。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 基本进程创建</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;sys/types.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;sys/wait.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">child_process</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"子进程PID: %d, 父进程PID: %d\n"</span>, <span class="text-blue-300">getpid</span>(), <span class="text-blue-300">getppid</span>());<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-3"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"子进程计算: %d * %d = %d\n"</span>, <span class="text-blue-300">i</span>, <span class="text-blue-300">i</span>, <span class="text-blue-300">i</span> * <span class="text-blue-300">i</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-1"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">exit</span>(<span class="text-yellow-42"></span>);  <span class="text-slate-500">// 子进程退出码</span><br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pid_t</span> <span class="text-blue-300">pid</span> = <span class="text-blue-300">fork</span>();  <span class="text-slate-500">// 创建子进程</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">pid</span> < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"fork失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">else</span> <span class="text-purple-400">if</span> (<span class="text-blue-300">pid</span> == <span class="text-yellow-0"></span>) {  <span class="text-slate-500">// 子进程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">child_process</span>();<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">else</span> {  <span class="text-slate-500">// 父进程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"父进程PID: %d, 创建了子进程PID: %d\n"</span>, <span class="text-blue-300">getpid</span>(), <span class="text-blue-300">pid</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">status</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">waitpid</span>(<span class="text-blue-300">pid</span>, &<span class="text-blue-300">status</span>, <span class="text-yellow-0"></span>);  <span class="text-slate-500">// 等待子进程结束</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">WIFEXITED</span>(<span class="text-blue-300">status</span>)) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"子进程正常退出，退出码: %d\n"</span>, <span class="text-blue-300">WEXITSTATUS</span>(<span class="text-blue-300">status</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// 进程间通信（管道）</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">pipefd</span>[<span class="text-yellow-2"></span>];  <span class="text-slate-500">// 管道文件描述符</span><br>
                                <span class="text-purple-400">pid_t</span> <span class="text-blue-300">pid</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">write_msg</span>[] = <span class="text-green-300">"Hello from parent!"</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">read_msg</span>[<span class="text-yellow-100"></span>];<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建管道</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">pipe</span>(<span class="text-blue-300">pipefd</span>) == <span class="text-yellow-1"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"管道创建失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pid</span> = <span class="text-blue-300">fork</span>();  <span class="text-slate-500">// 创建子进程</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">pid</span> < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"fork失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">else</span> <span class="text-purple-400">if</span> (<span class="text-blue-300">pid</span> == <span class="text-yellow-0"></span>) {  <span class="text-slate-500">// 子进程 - 读取数据</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">pipefd</span>[<span class="text-yellow-1"></span>]);  <span class="text-slate-500">// 关闭写端</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">read</span>(<span class="text-blue-300">pipefd</span>[<span class="text-yellow-0"></span>], <span class="text-blue-300">read_msg</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">read_msg</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"子进程收到消息: %s\n"</span>, <span class="text-blue-300">read_msg</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">pipefd</span>[<span class="text-yellow-0"></span>]);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">exit</span>(<span class="text-yellow-0"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">else</span> {  <span class="text-slate-500">// 父进程 - 写入数据</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">pipefd</span>[<span class="text-yellow-0"></span>]);  <span class="text-slate-500">// 关闭读端</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">write</span>(<span class="text-blue-300">pipefd</span>[<span class="text-yellow-1"></span>], <span class="text-blue-300">write_msg</span>, <span class="text-blue-300">strlen</span>(<span class="text-blue-300">write_msg</span>) + <span class="text-yellow-1"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">pipefd</span>[<span class="text-yellow-1"></span>]);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">wait</span>(<span class="text-purple-400">NULL</span>);  <span class="text-slate-500">// 等待子进程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 31. 网络编程 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">31. 网络编程</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 网络编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用socket模块支持网络编程，支持TCP和UDP协议，支持客户端和服务器编程，支持HTTP请求，支持WebSocket。注意事项：网络编程需要处理异常，需要注意socket的关闭，需要注意并发处理。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 网络编程</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400"># 简单的HTTP请求</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">urllib.request</span>
                                <br>
                                <span class="text-blue-300">url</span> = <span class="text-green-300">"https://www.example.com"</span><br>
                                <span class="text-blue-300">response</span> = <span class="text-blue-300">urllib.request</span>.<span class="text-blue-300">urlopen</span>(<span class="text-blue-300">url</span>)<br>
                                <span class="text-blue-300">data</span> = <span class="text-blue-300">response</span>.<span class="text-blue-300">read</span>()<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">data</span>.<span class="text-blue-300">decode</span>(<span class="text-green-300">"utf-8"</span>)) <span class="text-slate-500"># 输出：网页内容</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 网络编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用socket API支持网络编程，支持TCP和UDP协议，支持客户端和服务器编程，支持POSIX标准，支持非阻塞I/O。注意事项：需要处理错误码，需要注意字节序转换，需要注意socket地址结构，需要注意网络字节序。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// TCP客户端</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;sys/socket.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;netinet/in.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;arpa/inet.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">sockfd</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">struct</span> <span class="text-blue-300">sockaddr_in</span> <span class="text-blue-300">serv_addr</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">buffer</span>[<span class="text-yellow-1024"></span>];<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sockfd</span> = <span class="text-blue-300">socket</span>(<span class="text-blue-300">AF_INET</span>, <span class="text-blue-300">SOCK_STREAM</span>, <span class="text-yellow-0"></span>);  <span class="text-slate-500">// 创建TCP socket</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">sockfd</span> < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"socket创建失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">memset</span>(&<span class="text-blue-300">serv_addr</span>, <span class="text-yellow-0"></span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">serv_addr</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">serv_addr</span>.<span class="text-blue-300">sin_family</span> = <span class="text-blue-300">AF_INET</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">serv_addr</span>.<span class="text-blue-300">sin_port</span> = <span class="text-blue-300">htons</span>(<span class="text-yellow-8080"></span>);  <span class="text-slate-500">// 端口8080</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">inet_pton</span>(<span class="text-blue-300">AF_INET</span>, <span class="text-green-300">"127.0.0.1"</span>, &<span class="text-blue-300">serv_addr</span>.<span class="text-blue-300">sin_addr</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">connect</span>(<span class="text-blue-300">sockfd</span>, (<span class="text-purple-400">struct</span> <span class="text-blue-300">sockaddr</span>*)&<span class="text-blue-300">serv_addr</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">serv_addr</span>)) < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"连接失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">sockfd</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">snprintf</span>(<span class="text-blue-300">buffer</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">buffer</span>), <span class="text-green-300">"Hello from C client!\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">write</span>(<span class="text-blue-300">sockfd</span>, <span class="text-blue-300">buffer</span>, <span class="text-blue-300">strlen</span>(<span class="text-blue-300">buffer</span>));<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">ssize_t</span> <span class="text-blue-300">n</span> = <span class="text-blue-300">read</span>(<span class="text-blue-300">sockfd</span>, <span class="text-blue-300">buffer</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">buffer</span>) - <span class="text-yellow-1"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">n</span> > <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">buffer</span>[<span class="text-blue-300">n</span>] = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"收到响应: %s"</span>, <span class="text-blue-300">buffer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">sockfd</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                        
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// TCP服务器</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;sys/socket.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;netinet/in.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;arpa/inet.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">handle_client</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">client_sockfd</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">buffer</span>[<span class="text-yellow-1024"></span>];<br>
                                <span class="text-purple-400">ssize_t</span> <span class="text-blue-300">n</span> = <span class="text-blue-300">read</span>(<span class="text-blue-300">client_sockfd</span>, <span class="text-blue-300">buffer</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">buffer</span>) - <span class="text-yellow-1"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">n</span> > <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">buffer</span>[<span class="text-blue-300">n</span>] = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"收到客户端消息: %s"</span>, <span class="text-blue-300">buffer</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">write</span>(<span class="text-blue-300">client_sockfd</span>, <span class="text-green-300">"Hello from C server!\n"</span>, <span class="text-yellow-23"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">client_sockfd</span>);<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">server_sockfd</span>, <span class="text-blue-300">client_sockfd</span>;<br>
                                <span class="text-purple-400">struct</span> <span class="text-blue-300">sockaddr_in</span> <span class="text-blue-300">serv_addr</span>, <span class="text-blue-300">client_addr</span>;<br>
                                <span class="text-purple-400">socklen_t</span> <span class="text-blue-300">client_len</span> = <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">client_addr</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">server_sockfd</span> = <span class="text-blue-300">socket</span>(<span class="text-blue-300">AF_INET</span>, <span class="text-blue-300">SOCK_STREAM</span>, <span class="text-yellow-0"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">server_sockfd</span> < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"socket创建失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">opt</span> = <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">setsockopt</span>(<span class="text-blue-300">server_sockfd</span>, <span class="text-blue-300">SOL_SOCKET</span>, <span class="text-blue-300">SO_REUSEADDR</span>, &<span class="text-blue-300">opt</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">opt</span>));<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">memset</span>(&<span class="text-blue-300">serv_addr</span>, <span class="text-yellow-0"></span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">serv_addr</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">serv_addr</span>.<span class="text-blue-300">sin_family</span> = <span class="text-blue-300">AF_INET</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">serv_addr</span>.<span class="text-blue-300">sin_addr</span>.<span class="text-blue-300">s_addr</span> = <span class="text-blue-300">INADDR_ANY</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">serv_addr</span>.<span class="text-blue-300">sin_port</span> = <span class="text-blue-300">htons</span>(<span class="text-yellow-8080"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">bind</span>(<span class="text-blue-300">server_sockfd</span>, (<span class="text-purple-400">struct</span> <span class="text-blue-300">sockaddr</span>*)&<span class="text-blue-300">serv_addr</span>, <span class="text-purple-400">sizeof</span>(<span class="text-blue-300">serv_addr</span>)) < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"bind失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">listen</span>(<span class="text-blue-300">server_sockfd</span>, <span class="text-yellow-5"></span>) < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"listen失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"服务器监听端口 %d...\n"</span>, <span class="text-yellow-8080"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-yellow-1"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">client_sockfd</span> = <span class="text-blue-300">accept</span>(<span class="text-blue-300">server_sockfd</span>, (<span class="text-purple-400">struct</span> <span class="text-blue-300">sockaddr</span>*)&<span class="text-blue-300">client_addr</span>, &<span class="text-blue-300">client_len</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">client_sockfd</span> < <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">perror</span>(<span class="text-green-300">"accept失败"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">continue</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">handle_client</span>(<span class="text-blue-300">client_sockfd</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">close</span>(<span class="text-blue-300">server_sockfd</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 32. 数据库操作 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">32. 数据库操作</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 数据库操作</h4>
                        <p class="text-slate-300 mb-4">特点：支持多种数据库，使用sqlite3模块支持SQLite数据库，支持MySQL、PostgreSQL等关系型数据库，支持NoSQL数据库，支持ORM框架。注意事项：数据库操作需要处理异常，需要注意连接的关闭，需要注意SQL注入安全。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 数据库操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">sqlite3</span>
                                <br>
                                <span class="text-blue-400"># 连接SQLite数据库</span><br>
                                <span class="text-blue-300">conn</span> = <span class="text-blue-300">sqlite3</span>.<span class="text-blue-300">connect</span>(<span class="text-green-300">'test.db'</span>)<br>
                                <span class="text-blue-300">cursor</span> = <span class="text-blue-300">conn</span>.<span class="text-blue-300">cursor</span>()
                                <br>
                                <span class="text-blue-400"># 创建表</span><br>
                                <span class="text-blue-300">cursor</span>.<span class="text-blue-300">execute</span>(<span class="text-green-300">'CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY, name TEXT, age INTEGER)'</span>)
                                <br>
                                <span class="text-blue-400"># 插入数据</span><br>
                                <span class="text-blue-300">cursor</span>.<span class="text-blue-300">execute</span>(<span class="text-green-300">'INSERT INTO users (name, age) VALUES (?, ?)'</span>, (<span class="text-green-300">'张三'</span>, <span class="text-yellow-300">18</span>))<br>
                                <span class="text-blue-300">conn</span>.<span class="text-blue-300">commit</span>()
                                <br>
                                <span class="text-blue-400"># 查询数据</span><br>
                                <span class="text-blue-300">cursor</span>.<span class="text-blue-300">execute</span>(<span class="text-green-300">'SELECT * FROM users'</span>)<br>
                                <span class="text-blue-300">users</span> = <span class="text-blue-300">cursor</span>.<span class="text-blue-300">fetchall</span>()<br>
                                <span class="text-blue-300">print</span>(<span class="text-blue-300">users</span>) <span class="text-slate-500"># 输出：[(1, '张三', 18)]</span>
                                <br>
                                <span class="text-blue-400"># 关闭连接</span><br>
                                <span class="text-blue-300">cursor</span>.<span class="text-blue-300">close</span>()<br>
                                <span class="text-blue-300">conn</span>.<span class="text-blue-300">close</span>()
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 数据库操作</h4>
                        <p class="text-slate-300 mb-4">特点：使用SQLite3库支持SQLite数据库，使用libpq支持PostgreSQL，使用MySQL客户端库支持MySQL，支持预处理语句，支持事务处理。注意事项：需要检查SQLite3函数返回值，需要注意内存管理，需要注意SQL注入防护。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// SQLite3数据库操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;sqlite3.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">sqlite3</span> <span class="text-blue-300">*db</span>;<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">*err_msg</span> = <span class="text-purple-400">NULL</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">rc</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 打开/创建数据库</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">rc</span> = <span class="text-blue-300">sqlite3_open</span>(<span class="text-green-300">"test.db"</span>, &<span class="text-blue-300">db</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">rc</span> != <span class="text-blue-300">SQLITE_OK</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fprintf</span>(<span class="text-blue-300">stderr</span>, <span class="text-green-300">"无法打开数据库: %s\n"</span>, <span class="text-blue-300">sqlite3_errmsg</span>(<span class="text-blue-300">db</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 创建表</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">create_table</span>[] = <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-green-300">"CREATE TABLE IF NOT EXISTS users ("</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-green-300">"id INTEGER PRIMARY KEY AUTOINCREMENT,"</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-green-300">"name TEXT NOT NULL,"</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-green-300">"age INTEGER"</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-green-300">");"</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">rc</span> = <span class="text-blue-300">sqlite3_exec</span>(<span class="text-blue-300">db</span>, <span class="text-blue-300">create_table</span>, <span class="text-purple-400">NULL</span>, <span class="text-purple-400">NULL</span>, &<span class="text-blue-300">err_msg</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">rc</span> != <span class="text-blue-300">SQLITE_OK</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">fprintf</span>(<span class="text-blue-300">stderr</span>, <span class="text-green-300">"SQL错误: %s\n"</span>, <span class="text-blue-300">err_msg</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_free</span>(<span class="text-blue-300">err_msg</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 插入数据（预处理语句）</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">sqlite3_stmt</span> <span class="text-blue-300">*stmt</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">insert_sql</span>[] = <span class="text-green-300">"INSERT INTO users (name, age) VALUES (?, ?);"</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_prepare_v2</span>(<span class="text-blue-300">db</span>, <span class="text-blue-300">insert_sql</span>, <span class="text-yellow-1"></span>, &<span class="text-blue-300">stmt</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_bind_text</span>(<span class="text-blue-300">stmt</span>, <span class="text-yellow-1"></span>, <span class="text-green-300">"张三"</span>, <span class="text-yellow-2"></span>, <span class="text-blue-300">SQLITE_TRANSIENT</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_bind_int</span>(<span class="text-blue-300">stmt</span>, <span class="text-yellow-2"></span>, <span class="text-yellow-18"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_step</span>(<span class="text-blue-300">stmt</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_finalize</span>(<span class="text-blue-300">stmt</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 查询数据</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">select_sql</span>[] = <span class="text-green-300">"SELECT * FROM users;"</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_prepare_v2</span>(<span class="text-blue-300">db</span>, <span class="text-blue-300">select_sql</span>, <span class="text-yellow-1"></span>, &<span class="text-blue-300">stmt</span>, <span class="text-purple-400">NULL</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"用户列表:\n"</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">sqlite3_step</span>(<span class="text-blue-300">stmt</span>) == <span class="text-blue-300">SQLITE_ROW</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">id</span> = <span class="text-blue-300">sqlite3_column_int</span>(<span class="text-blue-300">stmt</span>, <span class="text-yellow-0"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">const</span> <span class="text-purple-400">unsigned</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">name</span> = <span class="text-blue-300">sqlite3_column_text</span>(<span class="text-blue-300">stmt</span>, <span class="text-yellow-1"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">age</span> = <span class="text-blue-300">sqlite3_column_int</span>(<span class="text-blue-300">stmt</span>, <span class="text-yellow-2"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"ID: %d, 姓名: %s, 年龄: %d\n"</span>, <span class="text-blue-300">id</span>, <span class="text-blue-300">name</span>, <span class="text-blue-300">age</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_finalize</span>(<span class="text-blue-300">stmt</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sqlite3_close</span>(<span class="text-blue-300">db</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 33. 异步编程 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">33. 异步编程</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 异步编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用asyncio模块支持异步编程，支持async/await语法，支持协程，支持异步IO，支持异步HTTP请求，支持异步数据库操作。注意事项：异步代码需要在事件循环中运行，避免在异步代码中使用同步阻塞操作，使用asyncio提供的异步API。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 异步编程</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">asyncio</span>
                                <br>
                                <span class="text-purple-400">async</span> <span class="text-purple-400">def</span> <span class="text-blue-300">say_hello</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"Hello"</span>)<br>
                                <span class="text-purple-400">await</span> <span class="text-blue-300">asyncio</span>.<span class="text-blue-300">sleep</span>(<span class="text-yellow-300">1</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"World"</span>)<br>
                                <span class="text-purple-400">await</span> <span class="text-blue-300">asyncio</span>.<span class="text-blue-300">sleep</span>(<span class="text-yellow-300">1</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"!"</span>)
                                <br>
                                <span class="text-purple-400">async</span> <span class="text-purple-400">def</span> <span class="text-blue-300">main</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;await</span> <span class="text-blue-300">say_hello</span>()
                                <br>
                                <span class="text-blue-300">if</span> <span class="text-blue-300">__name__</span> == <span class="text-green-300">"__main__"</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;asyncio</span>.<span class="text-blue-300">run</span>(<span class="text-blue-300">main</span>())
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 异步编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用多线程模拟异步操作，使用非阻塞I/O和select/poll实现事件驱动编程，使用状态机管理异步操作流程，使用回调函数处理异步结果。注意事项：需要注意线程同步和共享数据安全，使用select/poll时要注意超时设置。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用多线程模拟异步操作</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;pthread.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">id</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> <span class="text-blue-300">(*callback)</span>(<span class="text-purple-400">void</span>*);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span>* <span class="text-blue-300">data</span>;<br>
                                } <span class="text-blue-300">async_task_t</span>;<br>
                                <br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_t</span> <span class="text-blue-300">thread</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_t</span> <span class="text-blue-300">mutex</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">async_task_t</span> <span class="text-blue-300">tasks</span>[<span class="text-yellow-100"></span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">task_count</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">running</span>;<br>
                                } <span class="text-blue-300">async_manager_t</span>;<br>
                                <br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">async_worker</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">async_manager_t</span>* <span class="text-blue-300">manager</span> = (<span class="text-blue-300">async_manager_t</span>*) <span class="text-blue-300">arg</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">manager</span>-><span class="text-blue-300">running</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_lock</span>(&<span class="text-blue-300">manager</span>-><span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">manager</span>-><span class="text-blue-300">task_count</span> > <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">async_task_t</span> <span class="text-blue-300">task</span> = <span class="text-blue-300">manager</span>-><span class="text-blue-300">tasks</span>[--<span class="text-blue-300">manager</span>-><span class="text-blue-300">task_count</span>];<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_unlock</span>(&<span class="text-blue-300">manager</span>-><span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 模拟异步操作</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-1"></span>); <span class="text-slate-500">// 模拟耗时操作</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 执行回调</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">task</span>.<span class="text-blue-300">callback</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">callback</span>(<span class="text-blue-300">task</span>.<span class="text-blue-300">data</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>} <span class="text-purple-400">else</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_unlock</span>(&<span class="text-blue-300">manager</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">usleep</span>(<span class="text-yellow-10000"></span>); <span class="text-slate-500">// 等待100ms</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">task_completed</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">data</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">id</span> = *(<span class="text-purple-400">int</span>*) <span class="text-blue-300">data</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"异步任务 %d 完成\n"</span>, <span class="text-blue-300">id</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">data</span>);<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">async_manager_t</span> <span class="text-blue-300">manager</span> = {<span class="text-purple-400">NULL</span>};<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_init</span>(&<span class="text-blue-300">manager</span>.<span class="text-blue-300">mutex</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">manager</span>.<span class="text-blue-300">running</span> = <span class="text-yellow-1"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 启动异步工作线程</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_create</span>(&<span class="text-blue-300">manager</span>.<span class="text-blue-300">thread</span>, <span class="text-purple-400">NULL</span>, <span class="text-blue-300">async_worker</span>, &<span class="text-blue-300">manager</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 提交异步任务</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-1"></span>; <span class="text-blue-300">i</span> <= <span class="text-yellow-3"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span>* <span class="text-blue-300">id</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-purple-400">int</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">id</span> = <span class="text-blue-300">i</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">async_task_t</span> <span class="text-blue-300">task</span> = {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">id</span> = <span class="text-blue-300">i</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">callback</span> = <span class="text-blue-300">task_completed</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">data</span> = <span class="text-blue-300">id</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>};<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_lock</span>(&<span class="text-blue-300">manager</span>.<span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">manager</span>.<span class="text-blue-300">tasks</span>[<span class="text-blue-300">manager</span>.<span class="text-blue-300">task_count</span>++] = <span class="text-blue-300">task</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_mutex_unlock</span>(&<span class="text-blue-300">manager</span>.<span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"提交异步任务 %d\n"</span>, <span class="text-blue-300">i</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-1"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 等待所有任务完成</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-5"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 停止异步管理器</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">manager</span>.<span class="text-blue-300">running</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">pthread_join</span>(<span class="text-blue-300">manager</span>.<span class="text-blue-300">thread</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-blue-300">pthread_mutex_destroy</span>(&<span class="text-blue-300">manager</span>.<span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 34. 模块和包 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">34. 模块和包</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 模块化编程</h4>
                        <p class="text-slate-300 mb-4">特点：支持模块导入，支持包管理，支持相对导入和绝对导入，支持__init__.py文件，支持__all__列表控制导入。注意事项：模块名使用小写字母，包是包含__init__.py文件的目录，使用相对导入时要注意模块的位置。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 模块和包</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400"># 导入标准库模块</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">os</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">sys</span>
                                <br>
                                <span class="text-blue-400"># 导入第三方库</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">numpy</span> <span class="text-purple-400">as</span> <span class="text-blue-300">np</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">pandas</span> <span class="text-purple-400">as</span> <span class="text-blue-300">pd</span>
                                <br>
                                <span class="text-blue-400"># 导入自定义模块</span><br>
                                <span class="text-purple-400"># from mypackage import mymodule</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 模块化编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用头文件和源文件分离，支持extern声明外部函数和变量，使用static关键字限制作用域，支持条件编译，支持模块化编译和链接。注意事项：使用头文件保护避免重复包含，合理使用static关键字控制作用域，注意函数和变量的可见性。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// math_utils.h - 头文件</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#ifndef</span> <span class="text-blue-300">MATH_UTILS_H</span><br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">MATH_UTILS_H</span><br>
                                <br>
                                <span class="text-blue-400">// 函数声明</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">add</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>);<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">multiply</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>);<br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">divide</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>);<br>
                                <br>
                                <span class="text-blue-400">// 宏定义</span><br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">PI</span> <span class="text-yellow-300">3.14159</span><br>
                                <span class="text-blue-400">#define</span> <span class="text-blue-300">MAX</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>) ((<span class="text-blue-300">a</span>) > (<span class="text-blue-300">b</span>) ? (<span class="text-blue-300">a</span>) : (<span class="text-blue-300">b</span>))<br>
                                <br>
                                <span class="text-blue-400">// 结构体定义</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span> <span class="text-blue-300">real</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span> <span class="text-blue-300">imag</span>;<br>
                                } <span class="text-blue-300">Complex</span>;<br>
                                <br>
                                <span class="text-blue-400">// 函数声明</span><br>
                                <span class="text-blue-300">Complex</span> <span class="text-blue-300">complex_add</span>(<span class="text-blue-300">Complex</span> <span class="text-blue-300">a</span>, <span class="text-blue-300">Complex</span> <span class="text-blue-300">b</span>);<br>
                                <br>
                                <span class="text-blue-400">#endif</span>
                            </div>
                        </div>
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// math_utils.c - 源文件</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">"math_utils.h"</span><br>
                                <br>
                                <span class="text-blue-400">// 私有全局变量（仅在本文件可见）</span><br>
                                <span class="text-purple-400">static</span> <span class="text-purple-400">int</span> <span class="text-blue-300">operation_count</span> = <span class="text-yellow-0"></span>;<br>
                                <br>
                                <span class="text-blue-400">// 函数实现</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">add</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">operation_count</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">multiply</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">int</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">operation_count</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> * <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">double</span> <span class="text-blue-300">divide</span>(<span class="text-purple-400">double</span> <span class="text-blue-300">a</span>, <span class="text-purple-400">double</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">b</span> == <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">operation_count</span>++;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">a</span> / <span class="text-blue-300">b</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-300">Complex</span> <span class="text-blue-300">complex_add</span>(<span class="text-blue-300">Complex</span> <span class="text-blue-300">a</span>, <span class="text-blue-300">Complex</span> <span class="text-blue-300">b</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Complex</span> <span class="text-blue-300">result</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">result</span>.<span class="text-blue-300">real</span> = <span class="text-blue-300">a</span>.<span class="text-blue-300">real</span> + <span class="text-blue-300">b</span>.<span class="text-blue-300">real</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">result</span>.<span class="text-blue-300">imag</span> = <span class="text-blue-300">a</span>.<span class="text-blue-300">imag</span> + <span class="text-blue-300">b</span>.<span class="text-blue-300">imag</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">result</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 获取操作计数（仅供调试使用）</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">get_operation_count</span>(<span class="text-purple-400">void</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-blue-300">operation_count</span>;<br>
                                }<br>
                            </div>
                        </div>
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// main.c - 主程序</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">"math_utils.h"</span><br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用模块中的函数</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">sum</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-10"></span>, <span class="text-yellow-20"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">product</span> = <span class="text-blue-300">multiply</span>(<span class="text-yellow-5"></span>, <span class="text-yellow-4"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span> <span class="text-blue-300">quotient</span> = <span class="text-blue-300">divide</span>(<span class="text-yellow-10"></span>, <span class="text-yellow-3"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"和: %d\n"</span>, <span class="text-blue-300">sum</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"积: %d\n"</span>, <span class="text-blue-300">product</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"商: %.2f\n"</span>, <span class="text-blue-300">quotient</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用复数</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Complex</span> <span class="text-blue-300">c1</span> = {<span class="text-yellow-3"></span>, <span class="text-yellow-2"></span>};<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Complex</span> <span class="text-blue-300">c2</span> = {<span class="text-yellow-1"></span>, <span class="text-yellow-4"></span>};<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">Complex</span> <span class="text-blue-300">c3</span> = <span class="text-blue-300">complex_add</span>(<span class="text-blue-300">c1</span>, <span class="text-blue-300">c2</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"复数相加: %.1f + %.1fi\n"</span>, <span class="text-blue-300">c3</span>.<span class="text-blue-300">real</span>, <span class="text-blue-300">c3</span>.<span class="text-blue-300">imag</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用宏定义</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"最大值: %d\n"</span>, <span class="text-blue-300">MAX</span>(<span class="text-yellow-10"></span>, <span class="text-yellow-20"></span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"PI值: %.5f\n"</span>, <span class="text-blue-300">PI</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                            </div>
                        </div>
                        <div class="code-block rounded-lg p-4 code-font text-sm mt-4">
                            <div class="text-slate-400 mb-2">// 编译命令</div>
                            <div class="text-sm leading-6">
                                <span class="text-slate-500"># 分别编译源文件</span><br>
                                <span class="text-blue-300">gcc</span> <span class="text-blue-400">-c</span> <span class="text-blue-300">math_utils.c</span> <span class="text-blue-400">-o</span> <span class="text-blue-300">math_utils.o</span><br>
                                <span class="text-blue-300">gcc</span> <span class="text-blue-400">-c</span> <span class="text-blue-300">main.c</span> <span class="text-blue-400">-o</span> <span class="text-blue-300">main.o</span><br>
                                <br>
                                <span class="text-slate-500"># 链接目标文件</span><br>
                                <span class="text-blue-300">gcc</span> <span class="text-blue-300">math_utils.o</span> <span class="text-blue-300">main.o</span> <span class="text-blue-400">-o</span> <span class="text-blue-300">program</span><br>
                                <br>
                                <span class="text-slate-500"># 或者一步完成</span><br>
                                <span class="text-blue-300">gcc</span> <span class="text-blue-300">main.c</span> <span class="text-blue-300">math_utils.c</span> <span class="text-blue-400">-o</span> <span class="text-blue-300">program</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 35. 装饰器 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">35. 装饰器</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 装饰器进阶</h4>
                        <p class="text-slate-300 mb-4">特点：支持带参数的装饰器，支持类装饰器，支持装饰器嵌套，支持functools.wraps保留函数元信息，支持装饰器工厂。注意事项：装饰器执行顺序从下到上，需要注意装饰器的嵌套顺序，使用functools.wraps保留函数元信息。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 装饰器进阶</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">functools</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">log_execution</span>(<span class="text-blue-300">level</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">decorator</span>(<span class="text-blue-300">func</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@functools.wraps(func)</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">wrapper</span>(<span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"[{level}] 执行函数: {func.__name__}"</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span> = <span class="text-blue-300">func</span>(<span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"[{level}] 函数返回: {result}"</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">result</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">wrapper</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">decorator</span>
                                <br>
                                <span class="text-blue-300">@log_execution</span>(<span class="text-green-300">"INFO"</span>)<br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">add</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>
                                <br>
                                <span class="text-blue-300">result</span> = <span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>) <span class="text-slate-500"># 输出：[INFO] 执行函数: add\n[INFO] 函数返回: 5</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 36. 单元测试 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">36. 单元测试</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 自动化测试框架</h4>
                        <p class="text-slate-300 mb-4">特点：内置unittest模块，支持测试用例组织，支持断言方法，支持测试套件，支持测试发现。注意事项：测试用例应该独立，覆盖各种场景，包括边界情况。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 基本单元测试</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">unittest</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">add</span>(<span class="text-blue-300">a</span>, <span class="text-blue-300">b</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>
                                <br>
                                <span class="text-purple-400">class</span> <span class="text-blue-300">TestAdd</span>(<span class="text-blue-300">unittest</span>.<span class="text-blue-300">TestCase</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">test_add_integers</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.assertEqual(add(2, 3), 5)</span><br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">test_add_floats</span>(<span class="text-blue-300">self</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.assertAlmostEqual(add(0.1, 0.2), 0.3)</span><br>
                                <br>
                                <span class="text-purple-400">if</span> <span class="text-blue-300">__name__</span> == <span class="text-green-300">"__main__"</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;unittest.main()</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 使用Google Test进行单元测试</h4>
                        <p class="text-slate-300 mb-4">特点：支持多种断言类型，支持测试用例分组，支持测试套件，支持死亡测试，支持参数化测试。注意事项：需要安装Google Test框架，测试用例应该独立，覆盖各种场景。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用Google Test进行单元测试</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;gtest/gtest.h&gt;</span>
                                <br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">add</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">a</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">b</span>) {
                                    <span class="text-purple-400">return</span> <span class="text-blue-300">a</span> + <span class="text-blue-300">b</span>;
                                }
                                <br>
                                <span class="text-purple-400">TEST</span>(<span class="text-blue-300">AddTest</span>, <span class="text-blue-300">AddIntegers</span>) {
                                    <span class="text-blue-300">EXPECT_EQ</span>(<span class="text-blue-300">add</span>(<span class="text-yellow-300">2</span>, <span class="text-yellow-300">3</span>), <span class="text-yellow-300">5</span>);
                                    <span class="text-blue-300">EXPECT_EQ</span>(<span class="text-blue-300">add</span>(<span class="text-yellow-300">-1</span>, <span class="text-yellow-300">1</span>), <span class="text-yellow-300">0</span>);
                                }
                                <br>
                                <span class="text-purple-400">TEST</span>(<span class="text-blue-300">AddTest</span>, <span class="text-blue-300">AddFloats</span>) {
                                    <span class="text-blue-400">double</span> <span class="text-blue-300">result</span> = <span class="text-yellow-300">0.1</span> + <span class="text-yellow-300">0.2</span>;
                                    <span class="text-blue-300">EXPECT_NEAR</span>(<span class="text-blue-300">result</span>, <span class="text-yellow-300">0.3</span>, <span class="text-yellow-300">1e-9</span>);
                                }
                                <br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">main</span>(<span class="text-blue-400">int</span> <span class="text-blue-300">argc</span>, <span class="text-blue-400">char</span>* <span class="text-blue-300">argv</span>[]) {
                                    <span class="text-blue-300">::testing::InitGoogleTest</span>(&<span class="text-blue-300">argc</span>, <span class="text-blue-300">argv</span>);
                                    <span class="text-purple-400">return</span> <span class="text-blue-300">RUN_ALL_TESTS</span>();
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 37. 装饰器进阶 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">37. 装饰器进阶</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 装饰器的高级用法</h4>
                        <p class="text-slate-300 mb-4">特点：支持带参数的装饰器，支持类装饰器，支持装饰器嵌套，支持functools.wraps保留函数元信息。注意事项：装饰器执行顺序从下到上，需要注意装饰器的嵌套顺序。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 带参数的装饰器</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">functools</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">repeat</span>(<span class="text-blue-300">times</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">decorator</span>(<span class="text-blue-300">func</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@functools.wraps(func)</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">wrapper</span>(<span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for</span> <span class="text-blue-300">_</span> <span class="text-green-300">in</span> <span class="text-purple-400">range</span>(<span class="text-blue-300">times</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span> = <span class="text-blue-300">func</span>(<span class="text-purple-400">*</span><span class="text-blue-300">args</span>, <span class="text-purple-400">**</span><span class="text-blue-300">kwargs</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">result</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">wrapper</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">decorator</span>
                                <br>
                                <span class="text-purple-400">@repeat</span>(<span class="text-yellow-300">3</span>)<br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">say_hello</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">"Hello!"</span>)<br>
                                <br>
                                <span class="text-blue-300">say_hello</span>() <span class="text-slate-500"># 输出3次"Hello!"</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 使用函数对象实现类似装饰器的功能</h4>
                        <p class="text-slate-300 mb-4">特点：可以使用函数对象、模板、宏等方式实现类似装饰器的功能，支持参数化装饰，支持函数包装。注意事项：C++中没有直接的装饰器语法，需要使用其他机制模拟。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用函数对象实现类似装饰器的功能</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;iostream&gt;</span>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;functional&gt;</span>
                                <br>
                                <span class="text-blue-400">template</span>&lt;<span class="text-blue-400">typename</span> <span class="text-blue-300">Func</span>&gt;<br>
                                <span class="text-blue-400">class</span> <span class="text-blue-300">RepeatDecorator</span> {
                                <span class="text-blue-400">public</span>:
                                    <span class="text-blue-300">RepeatDecorator</span>(<span class="text-blue-300">Func</span> <span class="text-blue-300">func</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">times</span>) : <span class="text-blue-300">func_</span>(<span class="text-blue-300">func</span>), <span class="text-blue-300">times_</span>(<span class="text-blue-300">times</span>) {}
                                <br>
                                    <span class="text-blue-400">void</span> <span class="text-blue-300">operator()</span>() {
                                        <span class="text-blue-400">for</span> (<span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> < <span class="text-blue-300">times_</span>; ++<span class="text-blue-300">i</span>) {
                                            <span class="text-blue-300">func_</span>();
                                        }
                                    }
                                <br>
                                <span class="text-blue-400">private</span>:
                                    <span class="text-blue-300">Func</span> <span class="text-blue-300">func_</span>;
                                    <span class="text-blue-400">int</span> <span class="text-blue-300">times_</span>;
                                };
                                <br>
                                <span class="text-blue-400">template</span>&lt;<span class="text-blue-400">typename</span> <span class="text-blue-300">Func</span>&gt;<br>
                                <span class="text-blue-300">auto</span> <span class="text-blue-300">repeat</span>(<span class="text-blue-300">Func</span> <span class="text-blue-300">func</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">times</span>) {
                                    <span class="text-purple-400">return</span> <span class="text-blue-300">RepeatDecorator</span>&lt;<span class="text-blue-300">Func</span>&gt;(<span class="text-blue-300">func</span>, <span class="text-blue-300">times</span>);
                                }
                                <br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">say_hello</span>() {
                                    <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-green-300">"Hello!"</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                }
                                <br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">main</span>() {
                                    <span class="text-blue-300">auto</span> <span class="text-blue-300">repeated_hello</span> = <span class="text-blue-300">repeat</span>(&<span class="text-blue-300">say_hello</span>, <span class="text-yellow-300">3</span>);
                                    <span class="text-blue-300">repeated_hello</span>(); <span class="text-slate-500">// 输出3次"Hello!"</span>
                                    <span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 38. 上下文管理器进阶 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">38. 上下文管理器进阶</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 上下文管理器的高级用法</h4>
                        <p class="text-slate-300 mb-4">特点：使用contextlib模块简化上下文管理器创建，支持嵌套上下文管理器，支持生成器上下文管理器，支持上下文管理器链。注意事项：确保资源正确释放，避免资源泄漏。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 使用contextlib创建上下文管理器</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">from</span> <span class="text-blue-300">contextlib</span> <span class="text-purple-400">import</span> <span class="text-blue-300">contextmanager</span><br>
                                <span class="text-purple-400">import</span> <span class="text-blue-300">time</span>
                                <br>
                                <span class="text-blue-300">@contextmanager</span><br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">timer</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;start</span> = <span class="text-blue-300">time</span>.<span class="text-blue-300">time</span>()<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;try</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;finally</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span> = <span class="text-blue-300">time</span>.<span class="text-blue-300">time</span>()<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"执行时间: {end - start:.2f}秒"</span>)
                                <br>
                                <span class="text-purple-400">with</span> <span class="text-blue-300">timer</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;time.sleep(1)</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 使用RAII实现上下文管理</h4>
                        <p class="text-slate-300 mb-4">特点：通过RAII（资源获取即初始化）机制实现，构造函数获取资源，析构函数释放资源，支持自动资源管理，支持异常安全。注意事项：确保析构函数正确释放资源，避免资源泄漏。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用RAII实现上下文管理器</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;iostream&gt;</span>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;chrono&gt;</span>
                                <br>
                                <span class="text-blue-400">class</span> <span class="text-blue-300">Timer</span> {
                                <span class="text-blue-400">public</span>:
                                    <span class="text-blue-300">Timer</span>() {
                                        <span class="text-blue-300">start_</span> = <span class="text-blue-300">std::chrono::high_resolution_clock::now</span>();
                                    }
                                <br>
                                    <span class="text-blue-300">~Timer</span>() {
                                        <span class="text-blue-300">auto</span> <span class="text-blue-300">end</span> = <span class="text-blue-300">std::chrono::high_resolution_clock::now</span>();
                                        <span class="text-blue-400">auto</span> <span class="text-blue-300">duration</span> = <span class="text-blue-300">std::chrono::duration_cast</span>&lt;<span class="text-blue-300">std::chrono::milliseconds</span>&gt;(<span class="text-blue-300">end</span> - <span class="text-blue-300">start_</span>);
                                        <span class="text-blue-300">std::cout</span> &lt;&lt; <span class="text-green-300">"执行时间: "</span> &lt;&lt; <span class="text-blue-300">duration</span>.<span class="text-blue-300">count</span>() * <span class="text-yellow-300">0.001</span> &lt;&lt; <span class="text-green-300">"秒"</span> &lt;&lt; <span class="text-blue-300">std::endl</span>;
                                    }
                                <br>
                                <span class="text-blue-400">private</span>:
                                    <span class="text-blue-300">std::chrono::high_resolution_clock::time_point</span> <span class="text-blue-300">start_</span>;
                                };
                                <br>
                                <span class="text-blue-400">void</span> <span class="text-blue-300">func</span>() {
                                    <span class="text-blue-300">// 使用Timer上下文管理器</span>
                                    <span class="text-blue-300">Timer</span> <span class="text-blue-300">timer</span>;
                                    <br>
                                    <span class="text-blue-400">// 模拟耗时操作</span>
                                    <span class="text-blue-400">for</span> (<span class="text-blue-400">volatile</span> <span class="text-blue-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-300">0</span>; <span class="text-blue-300">i</span> < <span class="text-yellow-300">100000000</span>; ++<span class="text-blue-300">i</span>) {
                                        <span class="text-blue-300">// 空循环</span>
                                    }
                                }
                                <br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">main</span>() {
                                    <span class="text-blue-300">func</span>();
                                    <span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 39. 异步编程进阶 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">39. 异步编程进阶</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 高级异步编程技术</h4>
                        <p class="text-slate-300 mb-4">特点：支持异步上下文管理器，支持异步迭代器，支持asyncio并发运行，支持异步生成器，支持异步事件循环。注意事项：避免在异步代码中使用同步阻塞操作，使用asyncio提供的异步API。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 异步并发运行</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">import</span> <span class="text-blue-300">asyncio</span>
                                <br>
                                <span class="text-purple-400">async</span> <span class="text-purple-400">def</span> <span class="text-blue-300">fetch_data</span>(<span class="text-blue-300">name</span>, <span class="text-blue-300">delay</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"开始获取{name}数据..."</span>)<br>
                                <span class="text-purple-400">await</span> <span class="text-blue-300">asyncio</span>.<span class="text-blue-300">sleep</span>(<span class="text-blue-300">delay</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-green-300">f"{name}数据获取完成!"</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-green-300">f"{name}数据"</span>
                                <br>
                                <span class="text-purple-400">async</span> <span class="text-purple-400">def</span> <span class="text-blue-300">main</span>():<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;# 并发运行多个异步任务</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;tasks</span> = [<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch_data("A", 2),</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch_data("B", 1),</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch_data("C", 3)</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;]</span>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;results</span> = <span class="text-purple-400">await</span> <span class="text-blue-300">asyncio</span>.<span class="text-blue-300">gather</span>(<span class="text-purple-400">*</span><span class="text-green-300">tasks</span>)<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;print</span>(<span class="text-blue-300">results</span>)
                                <br>
                                <span class="text-purple-400">if</span> <span class="text-blue-300">__name__</span> == <span class="text-green-300">"__main__"</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;asyncio</span>.<span class="text-blue-300">run</span>(<span class="text-blue-300">main</span>())
                            </div>
                        </div>
                    </div>
                    
                    <!-- C++ -->
                    <div class="language-content hidden" data-lang="cpp">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C++ - 使用标准库进行异步编程</h4>
                        <p class="text-slate-300 mb-4">特点：支持std::async、std::future、std::promise等异步机制，支持并行执行任务，支持获取异步任务结果，支持异常处理。注意事项：需要C++11及以上版本，注意线程安全问题。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 异步并发运行</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;iostream&gt;</span>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;future&gt;</span>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;vector&gt;</span>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;chrono&gt;</span>
                                <br>
                                <span class="text-blue-400">using</span> <span class="text-blue-400">namespace</span> <span class="text-blue-300">std::chrono_literals</span>;
                                <br>
                                <span class="text-green-300">std::string</span> <span class="text-blue-300">fetch_data</span>(<span class="text-green-300">std::string</span> <span class="text-blue-300">name</span>, <span class="text-blue-400">int</span> <span class="text-blue-300">delay</span>) {
                                    <span class="text-green-300">std::cout</span> &lt;&lt; <span class="text-green-300">"开始获取"</span> &lt;&lt; <span class="text-blue-300">name</span> &lt;&lt; <span class="text-green-300">"数据..."</span> &lt;&lt; <span class="text-green-300">std::endl</span>;
                                    <span class="text-blue-300">std::this_thread::sleep_for</span>(<span class="text-blue-300">delay</span> * <span class="text-yellow-300">1s</span>);
                                    <span class="text-green-300">std::cout</span> &lt;&lt; <span class="text-blue-300">name</span> &lt;&lt; <span class="text-green-300">"数据获取完成!"</span> &lt;&lt; <span class="text-green-300">std::endl</span>;
                                    <span class="text-purple-400">return</span> <span class="text-blue-300">name</span> + <span class="text-green-300">"数据"</span>;
                                }
                                <br>
                                <span class="text-blue-400">int</span> <span class="text-blue-300">main</span>() {
                                    <span class="text-green-300">std::vector</span>&lt;<span class="text-green-300">std::future</span>&lt;<span class="text-green-300">std::string</span>&gt;&gt; <span class="text-blue-300">futures</span>;
                                    <br>
                                    <span class="text-blue-300">// 并发运行多个异步任务</span>
                                    <span class="text-blue-300">futures</span>.<span class="text-blue-300">push_back</span>(<span class="text-green-300">std::async</span>(<span class="text-green-300">std::launch::async</span>, <span class="text-blue-300">fetch_data</span>, <span class="text-green-300">"A"</span>, <span class="text-yellow-300">2</span>));
                                    <span class="text-blue-300">futures</span>.<span class="text-blue-300">push_back</span>(<span class="text-green-300">std::async</span>(<span class="text-green-300">std::launch::async</span>, <span class="text-blue-300">fetch_data</span>, <span class="text-green-300">"B"</span>, <span class="text-yellow-300">1</span>));
                                    <span class="text-blue-300">futures</span>.<span class="text-blue-300">push_back</span>(<span class="text-green-300">std::async</span>(<span class="text-green-300">std::launch::async</span>, <span class="text-blue-300">fetch_data</span>, <span class="text-green-300">"C"</span>, <span class="text-yellow-300">3</span>));
                                    <br>
                                    <span class="text-green-300">std::vector</span>&lt;<span class="text-green-300">std::string</span>&gt; <span class="text-blue-300">results</span>;
                                    <span class="text-blue-400">for</span> (<span class="text-green-300">auto</span>&amp; <span class="text-blue-300">future</span> : <span class="text-blue-300">futures</span>) {
                                        <span class="text-blue-300">results</span>.<span class="text-blue-300">push_back</span>(<span class="text-blue-300">future</span>.<span class="text-blue-300">get</span>());
                                    }
                                    <br>
                                    <span class="text-green-300">std::cout</span> &lt;&lt; <span class="text-green-300">"所有数据获取完成!"</span> &lt;&lt; <span class="text-green-300">std::endl</span>;
                                    <span class="text-blue-400">for</span> (<span class="text-green-300">auto</span>&amp; <span class="text-blue-300">result</span> : <span class="text-blue-300">results</span>) {
                                        <span class="text-green-300">std::cout</span> &lt;&lt; <span class="text-blue-300">result</span> &lt;&lt; <span class="text-green-300">std::endl</span>;
                                    }
                                    <br>
                                    <span class="text-purple-400">return</span> <span class="text-yellow-300">0</span>;
                                }
                            </div>
                        </div>
                    </div>

                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 使用POSIX线程和回调实现异步编程</h4>
                        <p class="text-slate-300 mb-4">特点：使用POSIX线程模拟异步操作，使用回调函数处理异步结果，使用任务队列管理异步任务，支持并发执行多个异步任务。注意事项：需要链接pthread库，注意线程安全和资源管理，使用信号量或互斥锁进行同步。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 使用POSIX线程实现异步编程</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;string.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;pthread.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;unistd.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;semaphore.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 任务结果结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-50"></span>];<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">result</span>[<span class="text-yellow-100"></span>];<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">delay</span>;<br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">completed</span>;<br>
                                } <span class="text-blue-300">task_result_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 异步任务结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span> (<span class="text-blue-300">*execute</span>)(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>;<br>
                                <span class="text-blue-300">task_result_t</span>* <span class="text-blue-300">task_result</span>;<br>
                                } <span class="text-blue-300">async_task_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 任务队列结构体</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">async_task_t</span>* <span class="text-blue-300">tasks</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">capacity</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">size</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">head</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">tail</span>;<br>
                                <span class="text-blue-400">pthread_mutex_t</span> <span class="text-blue-300">mutex</span>;<br>
                                <span class="text-blue-300">sem_t</span> <span class="text-blue-300">semaphore</span>;<br>
                                } <span class="text-blue-300">task_queue_t</span>;<br>
                                <br>
                                <span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">task_queue_create</span>(<span class="text-purple-400">int</span> <span class="text-blue-300">capacity</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">queue</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">task_queue_t</span>));<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (!<span class="text-blue-300">queue</span>) <span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span> = <span class="text-purple-400">malloc</span>(<span class="text-purple-400">sizeof</span>(<span class="text-blue-300">async_task_t</span>) * <span class="text-blue-300">capacity</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (!<span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">queue</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span> = <span class="text-blue-300">capacity</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> = <span class="text-yellow-0"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span> = <span class="text-yellow-0"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_init</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>, <span class="text-purple-400">NULL</span>);<br>
                                <span class="text-blue-300">sem_init</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>, <span class="text-yellow-0"></span>, <span class="text-yellow-0"></span>);<br>
                                <br>
                                <span class="text-purple-400">return</span> <span class="text-blue-300">queue</span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">task_queue_destroy</span>(<span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">queue</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">queue</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_destroy</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sem_destroy</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">free</span>(<span class="text-blue-300">queue</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">task_queue_push</span>(<span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">queue</span>, <span class="text-blue-300">async_task_t</span> <span class="text-blue-300">task</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_lock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">while</span> (<span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span> >= <span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span>] = <span class="text-blue-300">task</span>;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span> = (<span class="text-blue-300">queue</span>-><span class="text-blue-300">tail</span> + <span class="text-yellow-1"></span>) % <span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span>;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span>++;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-blue-300">sem_post</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <br>
                                <span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">task_queue_pop</span>(<span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">queue</span>, <span class="text-blue-300">async_task_t</span>* <span class="text-blue-300">task</span>) {<br>
                                <span class="text-blue-300">sem_wait</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">semaphore</span>);<br>
                                <span class="text-purple-400">pthread_mutex_lock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <br>
                                <span class="text-purple-400">if</span> (<span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span> <= <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-purple-400">return</span> <span class="text-yellow-1"></span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>*<span class="text-blue-300">task</span> = <span class="text-blue-300">queue</span>-><span class="text-blue-300">tasks</span>[<span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span>];<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> = (<span class="text-blue-300">queue</span>-><span class="text-blue-300">head</span> + <span class="text-yellow-1"></span>) % <span class="text-blue-300">queue</span>-><span class="text-blue-300">capacity</span>;<br>
                                <span class="text-blue-300">queue</span>-><span class="text-blue-300">size</span>--;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_mutex_unlock</span>(&<span class="text-blue-300">queue</span>-><span class="text-blue-300">mutex</span>);<br>
                                <span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }<br>
                                <br>
                                <span class="text-purple-400">void</span>* <span class="text-blue-300">worker_thread</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">queue</span> = (<span class="text-blue-300">task_queue_t</span>*) <span class="text-blue-300">arg</span>;<br>
                                <span class="text-blue-300">async_task_t</span> <span class="text-blue-300">task</span>;<br>
                                <br>
                                <span class="text-purple-400">while</span> (<span class="text-yellow-1</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">task_queue_pop</span>(<span class="text-blue-300">queue</span>, &<span class="text-blue-300">task</span>) == <span class="text-yellow-0"></span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">execute</span>(<span class="text-blue-300">task</span>.<span class="text-blue-300">arg</span>, <span class="text-blue-300">task</span>.<span class="text-blue-300">result</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (<span class="text-blue-300">task</span>.<span class="text-blue-300">task_result</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task</span>.<span class="text-blue-300">task_result</span>-><span class="text-blue-300">completed</span> = <span class="text-yellow-1</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <span class="text-purple-400">return</span> <span class="text-purple-400">NULL</span>;<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 示例任务执行函数</span><br>
                                <span class="text-purple-400">void</span> <span class="text-blue-300">sample_execute</span>(<span class="text-purple-400">void</span>* <span class="text-blue-300">arg</span>, <span class="text-purple-400">void</span>* <span class="text-blue-300">result</span>) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span>* <span class="text-blue-300">name</span> = (<span class="text-purple-400">char</span>*) <span class="text-blue-300">arg</span>;<br>
                                <span class="text-blue-300">task_result_t</span>* <span class="text-blue-300">res</span> = (<span class="text-blue-300">task_result_t</span>*) <span class="text-blue-300">result</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">printf</span>(<span class="text-green-300">"开始处理任务: %s\n"</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-blue-300">sleep</span>(<span class="text-yellow-1"></span>);<br>
                                <span class="text-purple-400">char</span> <span class="text-blue-300">output</span>[<span class="text-yellow-100"></span>];<br>
                                <span class="text-blue-300">snprintf</span>(<span class="text-blue-300">output</span>, <span class="text-yellow-100"></span>, <span class="text-green-300">"%s处理完成"</span>, <span class="text-blue-300">name</span>);<br>
                                <span class="text-blue-300">strncpy</span>(<span class="text-blue-300">res</span>-><span class="text-blue-300">result</span>, <span class="text-blue-300">output</span>, <span class="text-yellow-99"></span>);<br>
                                <span class="text-blue-300">printf</span>(<span class="text-green-300">"任务 %s 完成\n"</span>, <span class="text-blue-300">name</span>);<br>
                                }<br>
                                <br>
                                <span class="text-blue-400">// 主函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task_queue_t</span>* <span class="text-blue-300">queue</span> = <span class="text-blue-300">task_queue_create</span>(<span class="text-yellow-10"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">if</span> (!<span class="text-blue-300">queue</span>) <span class="text-purple-400">return</span> <span class="text-yellow-1</span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">pthread_t</span> <span class="text-blue-300">workers</span>[<span class="text-yellow-4"></span>];<br>
                                <span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-4"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_create</span>(&<span class="text-blue-300">workers</span>[<span class="text-blue-300">i</span>], <span class="text-purple-400">NULL</span>, <span class="text-blue-300">worker_thread</span>, <span class="text-blue-300">queue</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-5"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task_result_t</span> <span class="text-blue-300">result</span>;<br>
                                <span class="text-blue-300">async_task_t</span> <span class="text-blue-300">task</span> = {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">execute</span> = <span class="text-blue-300">sample_execute</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">arg</span> = (<span class="text-purple-400">void</span>*)&<span class="text-green-300">"Task-X"</span>[<span class="text-yellow-5"></span>],<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">result</span> = &<span class="text-blue-300">result</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>.<span class="text-blue-300">task_result</span> = &<span class="text-blue-300">result</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>};<br>
                                <span class="text-blue-300">char</span> <span class="text-blue-300">name</span>[<span class="text-yellow-20"></span>];<br>
                                <span class="text-blue-300">snprintf</span>(<span class="text-blue-300">name</span>, <span class="text-yellow-20"></span>, <span class="text-green-300">"Task-%d"</span>, <span class="text-blue-300">i</span> + <span class="text-yellow-1"></span>);<br>
                                <span class="text-blue-300">strncpy</span>(<span class="text-blue-300">result</span>.<span class="text-blue-300">name</span>, <span class="text-blue-300">name</span>, <span class="text-yellow-19"></span>);<br>
                                <span class="text-blue-300">task_queue_push</span>(<span class="text-blue-300">queue</span>, <span class="text-blue-300">task</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">sleep</span>(<span class="text-yellow-3"></span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">for</span> (<span class="text-purple-400">int</span> <span class="text-blue-300">i</span> = <span class="text-yellow-0"></span>; <span class="text-blue-300">i</span> < <span class="text-yellow-4"></span>; <span class="text-blue-300">i</span>++) {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">pthread_cancel</span>(<span class="text-blue-300">workers</span>[<span class="text-blue-300">i</span>]);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span>}<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">task_queue_destroy</span>(<span class="text-blue-300">queue</span>);<br>
                                <span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 40. 类型提示进阶 -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">
                <span class="gradient-text">40. 类型提示进阶</span>
            </h2>
            
            <div class="syntax-card rounded-xl p-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Python -->
                    <div class="language-content" data-lang="python">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">Python - 高级类型注解</h4>
                        <p class="text-slate-300 mb-4">特点：支持泛型，支持联合类型，支持可选类型，支持字面量类型，支持类型别名，支持Protocol。注意事项：使用typing模块提供的高级类型，需要Python 3.8+支持部分高级特性。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2"># 高级类型提示</div>
                            <div class="text-sm leading-6">
                                <span class="text-purple-400">from</span> <span class="text-blue-300">typing</span> <span class="text-purple-400">import</span> <span class="text-blue-300">List</span>, <span class="text-blue-300">Dict</span>, <span class="text-blue-300">Union</span>, <span class="text-blue-300">Optional</span>, <span class="text-blue-300">Generic</span>, <span class="text-blue-300">TypeVar</span>, <span class="text-blue-300">Protocol</span>
                                <br>
                                <span class="text-blue-300">T</span> = <span class="text-blue-300">TypeVar</span>(<span class="text-green-300">"T"</span>)
                                <br>
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Box</span>(<span class="text-blue-300">Generic</span>[<span class="text-blue-300">T</span>]):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">__init__</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">item</span>: <span class="text-blue-300">T</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.item</span> = <span class="text-blue-300">item</span>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">get_item</span>(<span class="text-blue-300">self</span>) -> <span class="text-blue-300">T</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">self.item</span>
                                <br>
                                <span class="text-blue-300"># 使用泛型类</span><br>
                                <span class="text-blue-300">int_box</span> = <span class="text-blue-300">Box</span>[<span class="text-purple-400">int</span>](<span class="text-yellow-300">42</span>)<br>
                                <span class="text-blue-300">str_box</span> = <span class="text-blue-300">Box</span>[<span class="text-purple-400">str</span>](<span class="text-green-300">"Hello"</span>)
                                <br>
                                <span class="text-blue-300"># 联合类型和可选类型</span><br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">process_data</span>(<span class="text-blue-300">data</span>: <span class="text-blue-300">Union</span>[<span class="text-purple-400">int</span>, <span class="text-purple-400">str</span>, <span class="text-blue-300">None</span>]) -> <span class="text-blue-300">Optional</span>[<span class="text-purple-400">str</span>]:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;if</span> <span class="text-blue-300">data</span> <span class="text-purple-400">is</span> <span class="text-purple-300">None</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-purple-300">None</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-purple-400">str</span>(<span class="text-blue-300">data</span>)
                                <br>
                                <span class="text-blue-300"># Protocol定义接口</span><br>
                                <span class="text-purple-400">class</span> <span class="text-blue-300">Readable</span>(<span class="text-blue-300">Protocol</span>):<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;def</span> <span class="text-blue-300">read</span>(<span class="text-blue-300">self</span>, <span class="text-blue-300">size</span>: <span class="text-purple-400">int</span>) -> <span class="text-blue-300">str</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span>
                                <br>
                                <span class="text-purple-400">def</span> <span class="text-blue-300">process</span>(<span class="text-blue-300">file</span>: <span class="text-blue-300">Readable</span>) -> <span class="text-blue-300">str</span>:<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;return</span> <span class="text-blue-300">file.read</span>(<span class="text-yellow-300">10</span>)
                            </div>
                        </div>
                    </div>
                    
                    <!-- C -->
                    <div class="language-content hidden" data-lang="c">
                        <h4 class="text-lg font-medium mb-4 text-purple-400">C - 高级类型系统（C11/C23）</h4>
                        <p class="text-slate-300 mb-4">特点：支持typedef类型别名，结构体和联合体类型，枚举类型，函数指针类型，typeof自动推导（C23），泛型选择器（C11）。注意事项：使用typedef创建类型别名，使用struct/union/enum定义复合类型，使用_Generic实现类型选择。</p>
                        <div class="code-block rounded-lg p-4 code-font text-sm">
                            <div class="text-slate-400 mb-2">// 高级类型系统</div>
                            <div class="text-sm leading-6">
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdio.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdlib.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdint.h&gt;</span><br>
                                <span class="text-blue-400">#include</span> <span class="text-green-300">&lt;stdbool.h&gt;</span><br>
                                <br>
                                <span class="text-blue-400">// 类型别名</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">unsigned</span> <span class="text-purple-400">long</span> <span class="text-blue-300">ulong_t</span>;<br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">int32_t</span> <span class="text-blue-300">int32</span>;<br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">const</span> <span class="text-purple-400">char</span>* <span class="text-blue-300">cstr_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 结构体类型定义</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">struct</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">int32</span> <span class="text-blue-300">id</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">cstr_t</span> <span class="text-blue-300">name</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span> <span class="text-blue-300">salary</span>;<br>
                                } <span class="text-blue-300">employee_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 联合体类型</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">union</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span> <span class="text-blue-300">int_val</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">float</span> <span class="text-blue-300">float_val</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">cstr_t</span> <span class="text-blue-300">str_val</span>;<br>
                                } <span class="text-blue-300">data_union_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 枚举类型</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">enum</span> {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">STATUS_OK</span> = <span class="text-yellow-0"></span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">STATUS_ERROR</span>,<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">STATUS_WARNING</span><br>
                                } <span class="text-blue-300">status_t</span>;<br>
                                <br>
                                <span class="text-blue-400">// 函数指针类型</span><br>
                                <span class="text-purple-400">typedef</span> <span class="text-purple-400">int</span> (<span class="text-blue-300">*</span><span class="text-blue-300">comparator_t</span>)(<span class="text-purple-400">const</span> <span class="text-purple-400">void</span>*, <span class="text-purple-400">const</span> <span class="text-purple-400">void</span>*);<br>
                                <br>
                                <span class="text-blue-400">// 使用_Generic进行类型选择（C11）</span><br>
                                <span class="text-purple-400">#define</span> <span class="text-blue-300">PRINT_TYPE</span>(<span class="text-blue-300">x</span>) \\<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">_Generic</span>((<span class="text-blue-300">x</span>), \\<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">int</span>: <span class="text-blue-300">printf</span>(<span class="text-green-300">"整数: %d\n"</span>, <span class="text-blue-300">x</span>), \\<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">double</span>: <span class="text-blue-300">printf</span>(<span class="text-green-300">"浮点数: %lf\n"</span>, <span class="text-blue-300">x</span>), \\<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">char</span>*: <span class="text-blue-300">printf</span>(<span class="text-green-300">"字符串: %s\n"</span>, <span class="text-blue-300">x</span>), \\<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">default</span>: <span class="text-blue-300">printf</span>(<span class="text-green-300">"未知类型\n"</span>))<br>
                                <br>
                                <span class="text-blue-400">// 主函数</span><br>
                                <span class="text-purple-400">int</span> <span class="text-blue-300">main</span>() {<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">employee_t</span> <span class="text-blue-300">emp</span> = {<span class="text-yellow-1"></span>, <span class="text-green-300">"张三"</span>, <span class="text-yellow-5000"></span>.<span class="text-yellow-0"></span>};<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">data_union_t</span> <span class="text-blue-300">data</span>;<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">data</span>.<span class="text-blue-300">int_val</span> = <span class="text-yellow-42"></span>;<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-400">// 使用_Generic类型选择</span><br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_TYPE</span>(<span class="text-yellow-42"></span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_TYPE</span>(<span class="text-yellow-3">.14</span>);<br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-blue-300">PRINT_TYPE</span>(<span class="text-green-300">"Hello"</span>);<br>
                                <br>
                                <span class="text-green-300">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="text-purple-400">return</span> <span class="text-yellow-0"></span>;<br>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- JavaScript -->
    <script>
        // Language switching
        const languageTabs = document.querySelectorAll('.language-tab');
        const languageContents = document.querySelectorAll('.language-content');
        
        languageTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const lang = tab.dataset.lang;
                
                // Update active tab
                languageTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update visible content
                languageContents.forEach(content => {
                    if (content.dataset.lang === lang) {
                        content.classList.remove('hidden');
                    } else {
                        content.classList.add('hidden');
                    }
                });
            });
        });
    </script>
</body>
</html>